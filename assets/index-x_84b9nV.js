(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function TA(){if(iv)return Vl;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var rv;function bA(){return rv||(rv=1,em.exports=TA()),em.exports}var T=bA(),tm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function wA(){if(sv)return Ce;sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function B(M,te,fe){this.props=M,this.context=te,this.refs=G,this.updater=fe||N}B.prototype.isReactComponent={},B.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=B.prototype;function ne(M,te,fe){this.props=M,this.context=te,this.refs=G,this.updater=fe||N}var J=ne.prototype=new $;J.constructor=ne,V(J,B.prototype),J.isPureReactComponent=!0;var le=Array.isArray,se={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function O(M,te,fe,ae,oe,xe){return fe=xe.ref,{$$typeof:r,type:M,key:te,ref:fe!==void 0?fe:null,props:xe}}function x(M,te){return O(M.type,te,void 0,void 0,void 0,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function I(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(fe){return te[fe]})}var k=/\/+/g;function U(M,te){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):te.toString(36)}function D(){}function Ze(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function nt(M,te,fe,ae,oe){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(xe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case r:case e:Re=!0;break;case E:return Re=M._init,nt(Re(M._payload),te,fe,ae,oe)}}if(Re)return oe=oe(M),Re=ae===""?"."+U(M,0):ae,le(oe)?(fe="",Re!=null&&(fe=Re.replace(k,"$&/")+"/"),nt(oe,te,fe,"",function(Ue){return Ue})):oe!=null&&(w(oe)&&(oe=x(oe,fe+(oe.key==null||M&&M.key===oe.key?"":(""+oe.key).replace(k,"$&/")+"/")+Re)),te.push(oe)),1;Re=0;var Ie=ae===""?".":ae+":";if(le(M))for(var be=0;be<M.length;be++)ae=M[be],xe=Ie+U(ae,be),Re+=nt(ae,te,fe,xe,oe);else if(be=S(M),typeof be=="function")for(M=be.call(M),be=0;!(ae=M.next()).done;)ae=ae.value,xe=Ie+U(ae,be++),Re+=nt(ae,te,fe,xe,oe);else if(xe==="object"){if(typeof M.then=="function")return nt(Ze(M),te,fe,ae,oe);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function re(M,te,fe){if(M==null)return M;var ae=[],oe=0;return nt(M,ae,"","",function(xe){return te.call(fe,xe,oe++)}),ae}function _e(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(fe){(M._status===0||M._status===-1)&&(M._status=1,M._result=fe)},function(fe){(M._status===0||M._status===-1)&&(M._status=2,M._result=fe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function He(){}return Ce.Children={map:re,forEach:function(M,te,fe){re(M,function(){te.apply(this,arguments)},fe)},count:function(M){var te=0;return re(M,function(){te++}),te},toArray:function(M){return re(M,function(te){return te})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=B,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cloneElement=function(M,te,fe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=V({},M.props),oe=M.key,xe=void 0;if(te!=null)for(Re in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(oe=""+te.key),te)!ge.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(ae[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)ae.children=fe;else if(1<Re){for(var Ie=Array(Re),be=0;be<Re;be++)Ie[be]=arguments[be+2];ae.children=Ie}return O(M.type,oe,void 0,void 0,xe,ae)},Ce.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,te,fe){var ae,oe={},xe=null;if(te!=null)for(ae in te.key!==void 0&&(xe=""+te.key),te)ge.call(te,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=te[ae]);var Re=arguments.length-2;if(Re===1)oe.children=fe;else if(1<Re){for(var Ie=Array(Re),be=0;be<Re;be++)Ie[be]=arguments[be+2];oe.children=Ie}if(M&&M.defaultProps)for(ae in Re=M.defaultProps,Re)oe[ae]===void 0&&(oe[ae]=Re[ae]);return O(M,xe,void 0,void 0,null,oe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:m,render:M}},Ce.isValidElement=w,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_e}},Ce.memo=function(M,te){return{$$typeof:g,type:M,compare:te===void 0?null:te}},Ce.startTransition=function(M){var te=se.T,fe={};se.T=fe;try{var ae=M(),oe=se.S;oe!==null&&oe(fe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(He,me)}catch(xe){me(xe)}finally{se.T=te}},Ce.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ce.use=function(M){return se.H.use(M)},Ce.useActionState=function(M,te,fe){return se.H.useActionState(M,te,fe)},Ce.useCallback=function(M,te){return se.H.useCallback(M,te)},Ce.useContext=function(M){return se.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,te){return se.H.useDeferredValue(M,te)},Ce.useEffect=function(M,te){return se.H.useEffect(M,te)},Ce.useId=function(){return se.H.useId()},Ce.useImperativeHandle=function(M,te,fe){return se.H.useImperativeHandle(M,te,fe)},Ce.useInsertionEffect=function(M,te){return se.H.useInsertionEffect(M,te)},Ce.useLayoutEffect=function(M,te){return se.H.useLayoutEffect(M,te)},Ce.useMemo=function(M,te){return se.H.useMemo(M,te)},Ce.useOptimistic=function(M,te){return se.H.useOptimistic(M,te)},Ce.useReducer=function(M,te,fe){return se.H.useReducer(M,te,fe)},Ce.useRef=function(M){return se.H.useRef(M)},Ce.useState=function(M){return se.H.useState(M)},Ce.useSyncExternalStore=function(M,te,fe){return se.H.useSyncExternalStore(M,te,fe)},Ce.useTransition=function(){return se.H.useTransition()},Ce.version="19.0.0",Ce}var av;function Wm(){return av||(av=1,tm.exports=wA()),tm.exports}var j=Wm(),nm={exports:{}},Pl={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function AA(){return ov||(ov=1,function(r){function e(re,_e){var me=re.length;re.push(_e);e:for(;0<me;){var He=me-1>>>1,M=re[He];if(0<o(M,_e))re[He]=_e,re[me]=M,me=He;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var _e=re[0],me=re.pop();if(me!==_e){re[0]=me;e:for(var He=0,M=re.length,te=M>>>1;He<te;){var fe=2*(He+1)-1,ae=re[fe],oe=fe+1,xe=re[oe];if(0>o(ae,me))oe<M&&0>o(xe,ae)?(re[He]=xe,re[oe]=me,He=oe):(re[He]=ae,re[fe]=me,He=fe);else if(oe<M&&0>o(xe,me))re[He]=xe,re[oe]=me,He=oe;else break e}}return _e}function o(re,_e){var me=re.sortIndex-_e.sortIndex;return me!==0?me:re.id-_e.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,R=null,S=3,N=!1,V=!1,G=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function J(re){for(var _e=n(g);_e!==null;){if(_e.callback===null)s(g);else if(_e.startTime<=re)s(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(g)}}function le(re){if(G=!1,J(re),!V)if(n(p)!==null)V=!0,Ze();else{var _e=n(g);_e!==null&&nt(le,_e.startTime-re)}}var se=!1,ge=-1,O=5,x=-1;function w(){return!(r.unstable_now()-x<O)}function I(){if(se){var re=r.unstable_now();x=re;var _e=!0;try{e:{V=!1,G&&(G=!1,$(ge),ge=-1),N=!0;var me=S;try{t:{for(J(re),R=n(p);R!==null&&!(R.expirationTime>re&&w());){var He=R.callback;if(typeof He=="function"){R.callback=null,S=R.priorityLevel;var M=He(R.expirationTime<=re);if(re=r.unstable_now(),typeof M=="function"){R.callback=M,J(re),_e=!0;break t}R===n(p)&&s(p),J(re)}else s(p);R=n(p)}if(R!==null)_e=!0;else{var te=n(g);te!==null&&nt(le,te.startTime-re),_e=!1}}break e}finally{R=null,S=me,N=!1}_e=void 0}}finally{_e?k():se=!1}}}var k;if(typeof ne=="function")k=function(){ne(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=I,k=function(){D.postMessage(null)}}else k=function(){B(I,0)};function Ze(){se||(se=!0,k())}function nt(re,_e){ge=B(function(){re(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){V||N||(V=!0,Ze())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(S){case 1:case 2:case 3:var _e=3;break;default:_e=S}var me=S;S=_e;try{return re()}finally{S=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=S;S=re;try{return _e()}finally{S=me}},r.unstable_scheduleCallback=function(re,_e,me){var He=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?He+me:He):me=He,re){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=me+M,re={id:E++,callback:_e,priorityLevel:re,startTime:me,expirationTime:M,sortIndex:-1},me>He?(re.sortIndex=me,e(g,re),n(p)===null&&re===n(g)&&(G?($(ge),ge=-1):G=!0,nt(le,me-He))):(re.sortIndex=M,e(p,re),V||N||(V=!0,Ze())),re},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(re){var _e=S;return function(){var me=S;S=_e;try{return re.apply(this,arguments)}finally{S=me}}}}(rm)),rm}var lv;function SA(){return lv||(lv=1,im.exports=AA()),im.exports}var sm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function RA(){if(uv)return Wt;uv=1;var r=Wm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,R=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:R,integrity:S,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:R,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,R=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var cv;function xA(){if(cv)return sm.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=RA(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function IA(){if(hv)return Pl;hv=1;var r=SA(),e=Wm(),n=xA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),N=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),le=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function x(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case G:return"Suspense";case B:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:x(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return x(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,k,U;function D(t){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+U}var Ze=!1;function nt(t,i){if(!t||Ze)return"";Ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var F=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){F=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var C=v.split(`
`),L=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ze=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=nt(t.type,!1),t;case 11:return t=nt(t.type.render,!1),t;case 1:return t=nt(t.type,!0),t;default:return""}}function _e(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function He(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function M(t){if(me(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=me(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return M(h),t;if(d===l)return M(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var ae=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Re=[],Ie=-1;function be(t){return{current:t}}function Ue(t){0>Ie||(t.current=Re[Ie],Re[Ie]=null,Ie--)}function Oe(t,i){Ie++,Re[Ie]=t.current,t.current=i}var dt=be(null),zt=be(null),wn=be(null),hr=be(null);function fr(t,i){switch(Oe(wn,i),Oe(zt,t),Oe(dt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?O_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=O_(t),i=k_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ue(dt),Oe(dt,i)}function xi(){Ue(dt),Ue(zt),Ue(wn)}function No(t){t.memoizedState!==null&&Oe(hr,t);var i=dt.current,a=k_(i,t.type);i!==a&&(Oe(zt,t),Oe(dt,a))}function ua(t){zt.current===t&&(Ue(dt),Ue(zt)),hr.current===t&&(Ue(hr),Nl._currentValue=xe)}var ca=Object.prototype.hasOwnProperty,ys=r.unstable_scheduleCallback,ha=r.unstable_cancelCallback,tf=r.unstable_shouldYield,Do=r.unstable_requestPaint,un=r.unstable_now,Eu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Dt=r.unstable_UserBlockingPriority,Ii=r.unstable_NormalPriority,Tu=r.unstable_LowPriority,Oo=r.unstable_IdlePriority,nf=r.log,_s=r.unstable_setDisableYieldValue,dr=null,Yt=null;function ko(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(dr,t,void 0,(t.current.flags&128)===128)}catch{}}function Zn(t){if(typeof nf=="function"&&_s(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(dr,t)}catch{}}var nn=Math.clz32?Math.clz32:wu,Mo=Math.log,bu=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(Mo(t)/bu|0)|0}var Jn=128,mr=4194304;function zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~h,a!==0?l=zn(a):(d&=b,d!==0?l=zn(d):t||(v=b&~v,v!==0&&(l=zn(v))))):(b=a&~h,b!==0?l=zn(b):d!==0?l=zn(d):t||(v=a&~v,v!==0&&(l=zn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function pr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fa(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=Jn;return Jn<<=1,(Jn&4194176)===0&&(Jn=128),t}function gr(){var t=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),t}function da(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function mt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Au(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-nn(a),ee=1<<Y;b[Y]=0,C[Y]=-1;var F=L[Y];if(F!==null)for(L[Y]=null,Y=0;Y<F.length;Y++){var Q=F[Y];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&yr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function yr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-nn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function _r(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-nn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Su(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:W_(t.type))}function vr(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var ei=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ei,wt="__reactProps$"+ei,Ci="__reactContainer$"+ei,vs="__reactEvents$"+ei,ma="__reactListeners$"+ei,ti="__reactHandles$"+ei,Po="__reactResources$"+ei,Er="__reactMarker$"+ei;function Es(t){delete t[Ot],delete t[wt],delete t[vs],delete t[ma],delete t[ti]}function Bn(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ci]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=P_(t);t!==null;){if(a=t[Ot])return a;t=P_(t)}return i}t=a,a=t.parentNode}return null}function Ni(t){if(t=t[Ot]||t[Ci]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Tr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function br(t){var i=t[Po];return i||(i=t[Po]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function st(t){t[Er]=!0}var Lo=new Set,pa={};function mn(t,i){cn(t,i),cn(t+"Capture",i)}function cn(t,i){for(pa[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},jo={};function xu(t){return ca.call(jo,t)?!0:ca.call(Uo,t)?!1:rf.test(t)?jo[t]=!0:(Uo[t]=!0,!1)}function wr(t,i,a){if(xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ar(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Sn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Iu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sf(t){var i=Iu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ts(t){t._valueTracker||(t._valueTracker=sf(t))}function zo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Iu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Di=/[\n"\\]/g;function ut(t){return t.replace(Di,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sr(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ya(t,v,rn(i)):a!=null?ya(t,v,rn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+rn(b):t.removeAttribute("name")}function bs(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ya(t,i,a){i==="number"&&ga(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fe(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ws(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function Rr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||af.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Cu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var xn=null;function _a(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,ki=null;function Mi(t){var i=Ni(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Sr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));Sr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&zo(l)}break e;case"textarea":ws(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Fe(t,!!a.multiple,i,!1)}}}var Ho=!1;function Nu(t,i,a){if(Ho)return t(i,a);Ho=!0;try{var l=t(i);return l}finally{if(Ho=!1,(Oi!==null||ki!==null)&&(Tc(),Oi&&(i=Oi,t=ki,ki=Oi=null,Mi(i),t)))for(i=0;i<t.length;i++)Mi(t[i])}}function As(t,i){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!1;if(pn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){In=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{In=!1}var ii=null,xr=null,Vi=null;function Fo(){if(Vi)return Vi;var t,i=xr,a=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Vi=h.slice(t,1<l?1-l:void 0)}function ri(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Go(){return!1}function kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Go,this.isPropagationStopped=Go,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=kt(Qe),Rs=I({},Qe,{view:0,detail:0}),Du=kt(Rs),Ea,Ta,ai,xs=I({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Ea=t.screenX-ai.screenX,Ta=t.screenY-ai.screenY):Ta=Ea=0,ai=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Cn=kt(xs),Ou=I({},xs,{dataTransfer:0}),uf=kt(Ou),Is=I({},Rs,{relatedTarget:0}),ba=kt(Is),Ko=I({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=kt(Ko),ku=I({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=kt(ku),cf=I({},Qe,{data:0}),Qo=kt(cf),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Vu[t])?!!i[t]:!1}function Ns(){return $o}var Pu=I({},Rs,{key:function(t){if(t.key){var i=Cs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sa=kt(Pu),Lu=I({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=kt(Lu),Pi=I({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Uu=kt(Pi),ju=I({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=kt(ju),Bu=I({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=kt(Bu),sn=I({},Qe,{newState:0,oldState:0}),qu=kt(sn),Hu=[9,13,27,32],oi=pn&&"CompositionEvent"in window,c=null;pn&&"documentMode"in document&&(c=document.documentMode);var y=pn&&"TextEvent"in window&&!c,_=pn&&(!oi||c&&8<c&&11>=c),A=" ",q=!1;function K(t,i){switch(t){case"keyup":return Hu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function At(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(q=!0,A);case"textInput":return t=i.data,t===A&&q?null:t;default:return null}}function ze(t,i){if(je)return t==="compositionend"||!oi&&K(t,i)?(t=Fo(),Vi=xr=ii=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function Li(t,i,a,l){Oi?ki?ki.push(l):ki=[l]:Oi=l,i=Rc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,li=null;function Xo(t){x_(t,0)}function Fu(t){var i=Tr(t);if(zo(i))return t}function ng(t,i){if(t==="change")return i}var ig=!1;if(pn){var hf;if(pn){var ff="oninput"in document;if(!ff){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),ff=typeof rg.oninput=="function"}hf=ff}else hf=!1;ig=hf&&(!document.documentMode||9<document.documentMode)}function sg(){Bt&&(Bt.detachEvent("onpropertychange",ag),li=Bt=null)}function ag(t){if(t.propertyName==="value"&&Fu(li)){var i=[];Li(i,li,t,_a(t)),Nu(Xo,i)}}function Wb(t,i,a){t==="focusin"?(sg(),Bt=i,li=a,Bt.attachEvent("onpropertychange",ag)):t==="focusout"&&sg()}function Zb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(li)}function Jb(t,i){if(t==="click")return Fu(i)}function ew(t,i){if(t==="input"||t==="change")return Fu(i)}function tw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:tw;function Wo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ca.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,i){var a=og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function ug(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ug(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ga(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ga(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function nw(t,i){var a=cg(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&ug(i.ownerDocument.documentElement,i)){if(l!==null&&df(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=lg(i,d);var v=lg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var iw=pn&&"documentMode"in document&&11>=document.documentMode,xa=null,mf=null,Zo=null,pf=!1;function hg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||xa==null||xa!==ga(l)||(l=xa,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Rc(mf,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Ds(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},gf={},fg={};pn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Os(t){if(gf[t])return gf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in fg)return gf[t]=i[a];return t}var dg=Os("animationend"),mg=Os("animationiteration"),pg=Os("animationstart"),rw=Os("transitionrun"),sw=Os("transitionstart"),aw=Os("transitioncancel"),gg=Os("transitionend"),yg=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(t,i){yg.set(t,i),mn(i,[t])}var Nn=[],Ca=0,yf=0;function Gu(){for(var t=Ca,i=yf=Ca=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function Ku(t,i,a,l){Nn[Ca++]=t,Nn[Ca++]=i,Nn[Ca++]=a,Nn[Ca++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,a,l){return Ku(t,i,a,l),Qu(t)}function Ir(t,i){return Ku(t,null,null,i),Qu(t)}function vg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-nn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Qu(t){if(50<wl)throw wl=0,Ad=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={},Eg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=Eg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:_e(i)},Eg.set(t,i),i)}return{value:t,source:i,stack:_e(i)}}var Da=[],Oa=0,$u=null,Yu=0,On=[],kn=0,ks=null,Ui=1,ji="";function Ms(t,i){Da[Oa++]=Yu,Da[Oa++]=$u,$u=t,Yu=i}function Tg(t,i,a){On[kn++]=Ui,On[kn++]=ji,On[kn++]=ks,ks=t;var l=Ui;t=ji;var h=32-nn(l)-1;l&=~(1<<h),a+=1;var d=32-nn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ui=1<<32-nn(i)+h|a<<h|l,ji=d+t}else Ui=1<<d|a<<h|l,ji=t}function vf(t){t.return!==null&&(Ms(t,1),Tg(t,1,0))}function Ef(t){for(;t===$u;)$u=Da[--Oa],Da[Oa]=null,Yu=Da[--Oa],Da[Oa]=null;for(;t===ks;)ks=On[--kn],On[kn]=null,ji=On[--kn],On[kn]=null,Ui=On[--kn],On[kn]=null}var an=null,qt=null,Ge=!1,Hn=null,ui=!1,Tf=Error(s(519));function Vs(t){var i=Error(s(418,""));throw tl(Dn(i,t)),Tf}function bg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ot]=t,i[wt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Pe(Sl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),bs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ts(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Rr(i,l.value,l.defaultValue,l.children),Ts(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||D_(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=xc),i=!0):i=!1,i||Vs(t)}function wg(t){for(an=t.return;an;)switch(an.tag){case 3:case 27:ui=!0;return;case 5:case 13:ui=!1;return;default:an=an.return}}function Jo(t){if(t!==an)return!1;if(!Ge)return wg(t),Ge=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&qt&&Vs(t),wg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){qt=Gn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}qt=null}}else qt=an?Gn(t.stateNode.nextSibling):null;return!0}function el(){qt=an=null,Ge=!1}function tl(t){Hn===null?Hn=[t]:Hn.push(t)}var nl=Error(s(460)),Ag=Error(s(474)),bf={then:function(){}};function Sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function Rg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xu,Xu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===nl?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Xu,Xu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===nl?Error(s(483)):t}throw il=i,nl}}var il=null;function xg(){if(il===null)throw Error(s(459));var t=il;return il=null,t}var ka=null,rl=0;function Wu(t){var i=rl;return rl+=1,ka===null&&(ka=[]),Rg(ka,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){var i=t._init;return i(t._payload)}function Cg(t){function i(z,P){if(t){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function a(z,P){if(!t)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=zr(z,P),z.index=0,z.sibling=null,z}function d(z,P,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=33554434,P):H):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function v(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function b(z,P,H,X){return P===null||P.tag!==6?(P=gd(H,z.mode,X),P.return=z,P):(P=h(P,H),P.return=z,P)}function C(z,P,H,X){var he=H.type;return he===p?Y(z,P,H.props.children,X,H.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ne&&Ig(he)===P.type)?(P=h(P,H.props),sl(P,H),P.return=z,P):(P=gc(H.type,H.key,H.props,null,z.mode,X),sl(P,H),P.return=z,P)}function L(z,P,H,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=yd(H,z.mode,X),P.return=z,P):(P=h(P,H.children||[]),P.return=z,P)}function Y(z,P,H,X,he){return P===null||P.tag!==7?(P=Gs(H,z.mode,X,he),P.return=z,P):(P=h(P,H),P.return=z,P)}function ee(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=gd(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return H=gc(P.type,P.key,P.props,null,z.mode,H),sl(H,P),H.return=z,H;case m:return P=yd(P,z.mode,H),P.return=z,P;case ne:var X=P._init;return P=X(P._payload),ee(z,P,H)}if(ae(P)||ge(P))return P=Gs(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return ee(z,Wu(P),H);if(P.$$typeof===N)return ee(z,dc(z,P),H);Zu(z,P)}return null}function F(z,P,H,X){var he=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return he!==null?null:b(z,P,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===he?C(z,P,H,X):null;case m:return H.key===he?L(z,P,H,X):null;case ne:return he=H._init,H=he(H._payload),F(z,P,H,X)}if(ae(H)||ge(H))return he!==null?null:Y(z,P,H,X,null);if(typeof H.then=="function")return F(z,P,Wu(H),X);if(H.$$typeof===N)return F(z,P,dc(z,H),X);Zu(z,H)}return null}function Q(z,P,H,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(H)||null,b(P,z,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return z=z.get(X.key===null?H:X.key)||null,C(P,z,X,he);case m:return z=z.get(X.key===null?H:X.key)||null,L(P,z,X,he);case ne:var De=X._init;return X=De(X._payload),Q(z,P,H,X,he)}if(ae(X)||ge(X))return z=z.get(H)||null,Y(P,z,X,he,null);if(typeof X.then=="function")return Q(z,P,H,Wu(X),he);if(X.$$typeof===N)return Q(z,P,H,dc(P,X),he);Zu(P,X)}return null}function de(z,P,H,X){for(var he=null,De=null,pe=P,ve=P=0,Lt=null;pe!==null&&ve<H.length;ve++){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var Ke=F(z,pe,H[ve],X);if(Ke===null){pe===null&&(pe=Lt);break}t&&pe&&Ke.alternate===null&&i(z,pe),P=d(Ke,P,ve),De===null?he=Ke:De.sibling=Ke,De=Ke,pe=Lt}if(ve===H.length)return a(z,pe),Ge&&Ms(z,ve),he;if(pe===null){for(;ve<H.length;ve++)pe=ee(z,H[ve],X),pe!==null&&(P=d(pe,P,ve),De===null?he=pe:De.sibling=pe,De=pe);return Ge&&Ms(z,ve),he}for(pe=l(pe);ve<H.length;ve++)Lt=Q(pe,z,ve,H[ve],X),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?ve:Lt.key),P=d(Lt,P,ve),De===null?he=Lt:De.sibling=Lt,De=Lt);return t&&pe.forEach(function(Qr){return i(z,Qr)}),Ge&&Ms(z,ve),he}function Ae(z,P,H,X){if(H==null)throw Error(s(151));for(var he=null,De=null,pe=P,ve=P=0,Lt=null,Ke=H.next();pe!==null&&!Ke.done;ve++,Ke=H.next()){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var Qr=F(z,pe,Ke.value,X);if(Qr===null){pe===null&&(pe=Lt);break}t&&pe&&Qr.alternate===null&&i(z,pe),P=d(Qr,P,ve),De===null?he=Qr:De.sibling=Qr,De=Qr,pe=Lt}if(Ke.done)return a(z,pe),Ge&&Ms(z,ve),he;if(pe===null){for(;!Ke.done;ve++,Ke=H.next())Ke=ee(z,Ke.value,X),Ke!==null&&(P=d(Ke,P,ve),De===null?he=Ke:De.sibling=Ke,De=Ke);return Ge&&Ms(z,ve),he}for(pe=l(pe);!Ke.done;ve++,Ke=H.next())Ke=Q(pe,z,ve,Ke.value,X),Ke!==null&&(t&&Ke.alternate!==null&&pe.delete(Ke.key===null?ve:Ke.key),P=d(Ke,P,ve),De===null?he=Ke:De.sibling=Ke,De=Ke);return t&&pe.forEach(function(EA){return i(z,EA)}),Ge&&Ms(z,ve),he}function ft(z,P,H,X){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var he=H.key;P!==null;){if(P.key===he){if(he=H.type,he===p){if(P.tag===7){a(z,P.sibling),X=h(P,H.props.children),X.return=z,z=X;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ne&&Ig(he)===P.type){a(z,P.sibling),X=h(P,H.props),sl(X,H),X.return=z,z=X;break e}a(z,P);break}else i(z,P);P=P.sibling}H.type===p?(X=Gs(H.props.children,z.mode,X,H.key),X.return=z,z=X):(X=gc(H.type,H.key,H.props,null,z.mode,X),sl(X,H),X.return=z,z=X)}return v(z);case m:e:{for(he=H.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(z,P.sibling),X=h(P,H.children||[]),X.return=z,z=X;break e}else{a(z,P);break}else i(z,P);P=P.sibling}X=yd(H,z.mode,X),X.return=z,z=X}return v(z);case ne:return he=H._init,H=he(H._payload),ft(z,P,H,X)}if(ae(H))return de(z,P,H,X);if(ge(H)){if(he=ge(H),typeof he!="function")throw Error(s(150));return H=he.call(H),Ae(z,P,H,X)}if(typeof H.then=="function")return ft(z,P,Wu(H),X);if(H.$$typeof===N)return ft(z,P,dc(z,H),X);Zu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(z,P.sibling),X=h(P,H),X.return=z,z=X):(a(z,P),X=gd(H,z.mode,X),X.return=z,z=X),v(z)):a(z,P)}return function(z,P,H,X){try{rl=0;var he=ft(z,P,H,X);return ka=null,he}catch(pe){if(pe===nl)throw pe;var De=Ln(29,pe,null,z.mode);return De.lanes=X,De.return=z,De}finally{}}}var Ps=Cg(!0),Ng=Cg(!1),Ma=be(null),Ju=be(0);function Dg(t,i){t=Xi,Oe(Ju,t),Oe(Ma,i),Xi=t|i.baseLanes}function wf(){Oe(Ju,Xi),Oe(Ma,Ma.current)}function Af(){Xi=Ju.current,Ue(Ma),Ue(Ju)}var Mn=be(null),ci=null;function Cr(t){var i=t.alternate;Oe(Rt,Rt.current&1),Oe(Mn,t),ci===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(ci=t)}function Og(t){if(t.tag===22){if(Oe(Rt,Rt.current),Oe(Mn,t),ci===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ci=t)}}else Nr()}function Nr(){Oe(Rt,Rt.current),Oe(Mn,Mn.current)}function zi(t){Ue(Mn),ci===t&&(ci=null),Ue(Rt)}var Rt=be(0);function ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ow=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},lw=r.unstable_scheduleCallback,uw=r.unstable_NormalPriority,xt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new ow,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&lw(uw,function(){t.controller.abort()})}var ol=null,Rf=0,Va=0,Pa=null;function cw(t,i){if(ol===null){var a=ol=[];Rf=0,Va=Od(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,i.then(kg,kg),i}function kg(){if(--Rf===0&&ol!==null){Pa!==null&&(Pa.status="fulfilled");var t=ol;ol=null,Va=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&cw(t,i),Mg!==null&&Mg(t,i)};var Ls=be(null);function xf(){var t=Ls.current;return t!==null?t:et.pooledCache}function tc(t,i){i===null?Oe(Ls,Ls.current):Oe(Ls,i.pool)}function Vg(){var t=xf();return t===null?null:{parent:xt._currentValue,pool:t}}var Dr=0,Ne=null,Xe=null,yt=null,nc=!1,La=!1,Us=!1,ic=0,ll=0,Ua=null,fw=0;function pt(){throw Error(s(321))}function If(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Cf(t,i,a,l,h,d){return Dr=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?js:Or,Us=!1,d=a(l,h),Us=!1,La&&(d=Lg(i,a,l,h)),Pg(t),d}function Pg(t){w.H=hi;var i=Xe!==null&&Xe.next!==null;if(Dr=0,yt=Xe=Ne=null,nc=!1,ll=0,Ua=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&fc(t)&&(Vt=!0))}function Lg(t,i,a,l){Ne=t;var h=0;do{if(La&&(Ua=null),ll=0,La=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=zs,d=i(a,l)}while(La);return d}function dw(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Nf(){var t=ic!==0;return ic=0,t}function Df(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Of(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}Dr=0,yt=Xe=Ne=null,La=!1,ll=ic=0,Ua=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ne.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Xe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?Ne.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ne.memoizedState=yt=t:yt=yt.next=t}return yt}var rc;rc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ul(t){var i=ll;return ll+=1,Ua===null&&(Ua=[]),t=Rg(Ua,t,i),i=Ne,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?js:Or),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===N)return Xt(t)}throw Error(s(438,String(t)))}function kf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=le;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=_t();return Mf(i,Xe,t)}function Mf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,C=null,L=i,Y=!1;do{var ee=L.lane&-536870913;if(ee!==L.lane?(Be&ee)===ee:(Dr&ee)===ee){var F=L.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ee===Va&&(Y=!0);else if((Dr&F)===F){L=L.next,F===Va&&(Y=!0);continue}else ee={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(b=C=ee,v=d):C=C.next=ee,Ne.lanes|=F,Br|=F;ee=L.action,Us&&a(d,ee),d=L.hasEagerState?L.eagerState:a(d,ee)}else F={lane:ee,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(b=C=F,v=d):C=C.next=F,Ne.lanes|=ee,Br|=ee;L=L.next}while(L!==null&&L!==i);if(C===null?v=d:C.next=b,!gn(d,t.memoizedState)&&(Vt=!0,Y&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);gn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(t,i,a){var l=Ne,h=_t(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!gn((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Vt=!0),h=h.queue,Uf(Bg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,ja(9,zg.bind(null,l,h,a,i),{destroy:void 0},null),et===null)throw Error(s(349));d||(Dr&60)!==0||jg(l,i,a)}return a}function jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=rc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zg(t,i,a,l){i.value=a,i.getSnapshot=l,qg(i)&&Hg(t)}function Bg(t,i,a){return a(function(){qg(i)&&Hg(t)})}function qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function Hg(t){var i=Ir(t,2);i!==null&&on(i,t,2)}function Pf(t){var i=hn();if(typeof t=="function"){var a=t;if(t=a(),Us){Zn(!0);try{a()}finally{Zn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Fg(t,i,a,l){return t.baseState=a,Mf(t,Xe,typeof l=="function"?l:Bi)}function mw(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var b=a(h,l),C=w.S;C!==null&&C(v,b),Kg(t,i,b)}catch(L){Lf(t,i,L)}finally{w.T=d}}else try{d=a(h,l),Kg(t,i,d)}catch(L){Lf(t,i,L)}}function Kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(t,i,l)},function(l){return Lf(t,i,l)}):Qg(t,i,a)}function Qg(t,i,a){i.status="fulfilled",i.value=a,$g(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function Lf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$g(i),i=i.next;while(i!==l)}t.action=null}function $g(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yg(t,i){return i}function Xg(t,i){if(Ge){var a=et.formState;if(a!==null){e:{var l=Ne;if(Ge){if(qt){t:{for(var h=qt,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){qt=Gn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=l,a=my.bind(null,Ne,l),l.dispatch=a,l=Pf(!1),d=Hf.bind(null,Ne,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=mw.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wg(t){var i=_t();return Zg(i,Xe,t)}function Zg(t,i,a){i=Mf(t,i,Yg)[0],t=ac(Bi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?ul(i):i;var l=_t(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ne.flags|=2048,ja(9,pw.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function pw(t,i){t.action=i}function Jg(t){var i=_t(),a=Xe;if(a!==null)return Zg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ne.updateQueue,i===null&&(i=rc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ey(){return _t().memoizedState}function oc(t,i,a,l){var h=hn();Ne.flags|=t,h.memoizedState=ja(1|i,a,{destroy:void 0},l===void 0?null:l)}function lc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&If(l,Xe.memoizedState.deps)?h.memoizedState=ja(i,a,d,l):(Ne.flags|=t,h.memoizedState=ja(1|i,a,d,l))}function ty(t,i){oc(8390656,8,t,i)}function Uf(t,i){lc(2048,8,t,i)}function ny(t,i){return lc(4,2,t,i)}function iy(t,i){return lc(4,4,t,i)}function ry(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function sy(t,i,a){a=a!=null?a.concat([t]):null,lc(4,4,ry.bind(null,i,t),a)}function jf(){}function ay(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&If(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function oy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),Us){Zn(!0);try{t()}finally{Zn(!1)}}return a.memoizedState=[l,i],l}function zf(t,i,a){return a===void 0||(Dr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=u_(),Ne.lanes|=t,Br|=t,a)}function ly(t,i,a,l){return gn(a,i)?a:Ma.current!==null?(t=zf(t,a,l),gn(t,i)||(Vt=!0),t):(Dr&42)===0?(Vt=!0,t.memoizedState=a):(t=u_(),Ne.lanes|=t,Br|=t,i)}function uy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=w.T,b={};w.T=b,Hf(t,!1,i,a);try{var C=h(),L=w.S;if(L!==null&&L(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=hw(C,l);cl(t,i,Y,En(t))}else cl(t,i,l,En(t))}catch(ee){cl(t,i,{then:function(){},status:"rejected",reason:ee},En())}finally{oe.p=d,w.T=v}}function gw(){}function Bf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=cy(t).queue;uy(t,h,i,xe,a===null?gw:function(){return hy(t),a(l)})}function cy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:xe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function hy(t){var i=cy(t).next.queue;cl(t,i,{},En())}function qf(){return Xt(Nl)}function fy(){return _t().memoizedState}function dy(){return _t().memoizedState}function yw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=Vr(a);var l=Pr(i,t,a);l!==null&&(on(l,i,a),dl(l,i,a)),i={cache:Sf()},t.payload=i;return}i=i.return}}function _w(t,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?py(i,a):(a=_f(t,i,a,l),a!==null&&(on(a,t,l),gy(a,i,l)))}function my(t,i,a){var l=En();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))py(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,gn(b,v))return Ku(t,i,h,0),et===null&&Gu(),!1}catch{}finally{}if(a=_f(t,i,h,l),a!==null)return on(a,t,l),gy(a,i,l),!0}return!1}function Hf(t,i,a,l){if(l={lane:2,revertLane:Od(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=_f(t,a,l,2),i!==null&&on(i,t,2)}function uc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function py(t,i){La=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function gy(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,_r(t,a)}}var hi={readContext:Xt,use:sc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};hi.useCacheRefresh=pt,hi.useMemoCache=pt,hi.useHostTransitionStatus=pt,hi.useFormState=pt,hi.useActionState=pt,hi.useOptimistic=pt;var js={readContext:Xt,use:sc,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,ry.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=hn();i=i===void 0?null:i;var l=t();if(Us){Zn(!0);try{t()}finally{Zn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=hn();if(a!==void 0){var h=a(i);if(Us){Zn(!0);try{a(i)}finally{Zn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_w.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=Pf(t);var i=t.queue,a=my.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,i){var a=hn();return zf(a,t,i)},useTransition:function(){var t=Pf(!1);return t=uy.bind(null,Ne,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=hn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Be&60)!==0||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ty(Bg.bind(null,l,d,t),[t]),l.flags|=2048,ja(9,zg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=hn(),i=et.identifierPrefix;if(Ge){var a=ji,l=Ui;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=fw++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return hn().memoizedState=yw.bind(null,Ne)}};js.useMemoCache=kf,js.useHostTransitionStatus=qf,js.useFormState=Xg,js.useActionState=Xg,js.useOptimistic=function(t){var i=hn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]};var Or={readContext:Xt,use:sc,useCallback:ay,useContext:Xt,useEffect:Uf,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:ac,useRef:ey,useState:function(){return ac(Bi)},useDebugValue:jf,useDeferredValue:function(t,i){var a=_t();return ly(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ac(Bi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Ug,useId:fy};Or.useCacheRefresh=dy,Or.useMemoCache=kf,Or.useHostTransitionStatus=qf,Or.useFormState=Wg,Or.useActionState=Wg,Or.useOptimistic=function(t,i){var a=_t();return Fg(a,Xe,t,i)};var zs={readContext:Xt,use:sc,useCallback:ay,useContext:Xt,useEffect:Uf,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:Vf,useRef:ey,useState:function(){return Vf(Bi)},useDebugValue:jf,useDeferredValue:function(t,i){var a=_t();return Xe===null?zf(a,t,i):ly(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Vf(Bi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Ug,useId:fy};zs.useCacheRefresh=dy,zs.useMemoCache=kf,zs.useHostTransitionStatus=qf,zs.useFormState=Jg,zs.useActionState=Jg,zs.useOptimistic=function(t,i){var a=_t();return Xe!==null?Fg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Ff(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=En(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,l),i!==null&&(on(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=En(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,l),i!==null&&(on(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=Pr(t,l,a),i!==null&&(on(i,t,a),dl(i,t,a))}};function yy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function _y(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Gf.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vy(t){cc(t)}function Ey(t){console.error(t)}function Ty(t){cc(t)}function hc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function by(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,i)},a}function wy(t){return t=Vr(t),t.tag=3,t}function Ay(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){by(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){by(i,a,l),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function vw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&fl(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return ci===null?xd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Cd(t,l,h)),!1;case 22:return a.flags|=65536,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Cd(t,l,h)),!1}throw Error(s(435,a.tag))}return Cd(t,l,h),xd(),!1}if(Ge)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Tf&&(t=Error(s(422),{cause:l}),tl(Dn(t,a)))):(l!==Tf&&(i=Error(s(423),{cause:l}),tl(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=Kf(t.stateNode,l,h),od(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Tl===null?Tl=[d]:Tl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kf(a.stateNode,l,t),od(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wy(h),Ay(h,t,a,l),od(a,h),!1}a=a.return}while(a!==null);return!1}var Sy=Error(s(461)),Vt=!1;function Ht(t,i,a,l){i.child=t===null?Ng(i,null,a,l):Ps(i,t.child,a,l)}function Ry(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Hs(i),l=Cf(t,i,a,v,d,h),b=Nf(),t!==null&&!Vt?(Df(t,i,h),qi(t,i,h)):(Ge&&b&&vf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function xy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!pd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,l,h)):(t=gc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!td(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(v,l)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=zr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,td(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return Qf(t,i,a,l,h)}function Cy(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(hl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ny(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(i,v!==null?v.cachePool:null),v!==null?Dg(i,v):wf(),Og(i);else return i.lanes=i.childLanes=536870912,Ny(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(tc(i,v.cachePool),Dg(i,v),Nr(),i.memoizedState=null):(t!==null&&tc(i,null),wf(),Nr());return Ht(t,i,h,a),i.child}function Ny(t,i,a,l){var h=xf();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&tc(i,null),wf(),Og(i),t!==null&&fl(t,i,l,!0),null}function hl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Qf(t,i,a,l,h){return Hs(i),a=Cf(t,i,a,l,void 0,h),l=Nf(),t!==null&&!Vt?(Df(t,i,h),qi(t,i,h)):(Ge&&l&&vf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function Dy(t,i,a,l,h,d){return Hs(i),i.updateQueue=null,a=Lg(i,l,a,h),Pg(t),l=Nf(),t!==null&&!Vt?(Df(t,i,d),qi(t,i,d)):(Ge&&l&&vf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function Oy(t,i,a,l,h){if(Hs(i),i.stateNode===null){var d=Na,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},sd(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xt(v):Na,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ff(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Gf.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=Bs(a,b);d.props=C;var L=d.context,Y=a.contextType;v=Na,typeof Y=="object"&&Y!==null&&(v=Xt(Y));var ee=a.getDerivedStateFromProps;Y=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||L!==v)&&_y(i,d,l,v),Mr=!1;var F=i.memoizedState;d.state=F,pl(i,l,d,h),ml(),L=i.memoizedState,b||F!==L||Mr?(typeof ee=="function"&&(Ff(i,a,ee,l),L=i.memoizedState),(C=Mr||yy(i,a,C,l,F,L,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ad(t,i),v=i.memoizedProps,Y=Bs(a,v),d.props=Y,ee=i.pendingProps,F=d.context,L=a.contextType,C=Na,typeof L=="object"&&L!==null&&(C=Xt(L)),b=a.getDerivedStateFromProps,(L=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||F!==C)&&_y(i,d,l,C),Mr=!1,F=i.memoizedState,d.state=F,pl(i,l,d,h),ml();var Q=i.memoizedState;v!==ee||F!==Q||Mr||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof b=="function"&&(Ff(i,a,b,l),Q=i.memoizedState),(Y=Mr||yy(i,a,Y,l,F,Q,C)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,hl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ps(i,t.child,null,h),i.child=Ps(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function ky(t,i,a,l){return el(),i.flags|=256,Ht(t,i,a,l),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function Yf(t){return{baseLanes:t,cachePool:Vg()}}function Xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Un),t}function My(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(h?Cr(i):Nr(),Ge){var b=qt,C;if(C=b){e:{for(C=b,b=ui;C.nodeType!==8;){if(!b){b=null;break e}if(C=Gn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(i.memoizedState={dehydrated:b,treeContext:ks!==null?{id:Ui,overflow:ji}:null,retryLane:536870912},C=Ln(18,null,null,0),C.stateNode=b,C.return=i,i.child=C,an=i,qt=null,C=!0):C=!1}C||Vs(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?i.lanes=16:i.lanes=536870912,null;zi(i)}return b=l.children,l=l.fallback,h?(Nr(),h=i.mode,b=Zf({mode:"hidden",children:b},h),l=Gs(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=Yf(a),h.childLanes=Xf(t,v,a),i.memoizedState=$f,l):(Cr(i),Wf(i,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=Jf(t,i,a)):i.memoizedState!==null?(Nr(),i.child=t.child,i.flags|=128,i=null):(Nr(),h=l.fallback,b=i.mode,l=Zf({mode:"visible",children:l.children},b),h=Gs(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ps(i,t.child,null,a),l=i.child,l.memoizedState=Yf(a),l.childLanes=Xf(t,v,a),i.memoizedState=$f,i=h);else if(Cr(i),b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,tl({value:l,source:null,stack:null}),i=Jf(t,i,a)}else if(Vt||fl(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=et,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ir(t,l),on(v,t,l),Sy}b.data==="$?"||xd(),i=Jf(t,i,a)}else b.data==="$?"?(i.flags|=128,i.child=t.child,i=Mw.bind(null,t),b._reactRetry=i,i=null):(t=C.treeContext,qt=Gn(b.nextSibling),an=i,Ge=!0,Hn=null,ui=!1,t!==null&&(On[kn++]=Ui,On[kn++]=ji,On[kn++]=ks,Ui=t.id,ji=t.overflow,ks=i),i=Wf(i,l.children),i.flags|=4096);return i}return h?(Nr(),h=l.fallback,b=i.mode,C=t.child,L=C.sibling,l=zr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,L!==null?h=zr(L,h):(h=Gs(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=Yf(a):(C=b.cachePool,C!==null?(L=xt._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=Vg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=Xf(t,v,a),i.memoizedState=$f,l):(Cr(i),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Wf(t,i){return i=Zf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Zf(t,i){return a_(t,i,0,null)}function Jf(t,i,a){return Ps(i,t.child,null,a),t=Wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),id(t.return,i,a)}function ed(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Py(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,a,i);else if(t.tag===19)Vy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Oe(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ed(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ed(i,!0,a,null,d);break;case"together":ed(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(fl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function Ew(t,i,a){switch(i.tag){case 3:fr(i,i.stateNode.containerInfo),kr(i,xt,t.memoizedState.cache),el();break;case 27:case 5:No(i);break;case 4:fr(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?My(t,i,a):(Cr(i),t=qi(t,i,a),t!==null?t.sibling:null);Cr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(fl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Py(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Oe(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,Cy(t,i,a);case 24:kr(i,xt,t.memoizedState.cache)}return qi(t,i,a)}function Ly(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!td(t,a)&&(i.flags&128)===0)return Vt=!1,Ew(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ge&&(i.flags&1048576)!==0&&Tg(i,Yu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")pd(l)?(t=Bs(l,t),i.tag=1,i=Oy(null,i,l,t,a)):(i.tag=0,i=Qf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===V){i.tag=11,i=Ry(null,i,l,t,a);break e}else if(h===$){i.tag=14,i=xy(null,i,l,t,a);break e}}throw i=x(l)||l,Error(s(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Oy(t,i,l,h,a);case 3:e:{if(fr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ad(t,i),pl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,kr(i,xt,d),d!==h.cache&&rd(i,[xt],a,!0),ml(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=ky(t,i,d,a);break e}else if(d!==l){l=Dn(Error(s(424)),i),tl(l),i=ky(t,i,d,a);break e}else for(qt=Gn(i.stateNode.containerInfo.firstChild),an=i,Ge=!0,Hn=null,ui=!0,a=Ng(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(el(),d===l){i=qi(t,i,a);break e}Ht(t,i,d,a)}i=i.child}return i;case 26:return hl(t,i),t===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ge||(a=i.type,t=i.pendingProps,l=Ic(wn.current).createElement(a),l[Ot]=i,l[wt]=t,Ft(l,a,t),st(l),i.stateNode=l):i.memoizedState=z_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return No(i),t===null&&Ge&&(l=i.stateNode=L_(i.type,i.pendingProps,wn.current),an=i,ui=!0,qt=Gn(l.firstChild)),l=i.pendingProps.children,t!==null||Ge?Ht(t,i,l,a):i.child=Ps(i,null,l,a),hl(t,i),i.child;case 5:return t===null&&Ge&&((h=l=qt)&&(l=Xw(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,an=i,qt=Gn(l.firstChild),ui=!1,h=!0):h=!1),h||Vs(i)),No(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:v!==null&&Bd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(t,i,dw,null,null,a),Nl._currentValue=h),hl(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Ge&&((t=a=qt)&&(a=Ww(a,i.pendingProps,ui),a!==null?(i.stateNode=a,an=i,qt=null,t=!0):t=!1),t||Vs(i)),null;case 13:return My(t,i,a);case 4:return fr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ps(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hs(i),h=Xt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return xy(t,i,i.type,i.pendingProps,a);case 15:return Iy(t,i,i.type,i.pendingProps,a);case 19:return Py(t,i,a);case 22:return Cy(t,i,a);case 24:return Hs(i),l=Xt(xt),t===null?(h=xf(),h===null&&(h=et,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},sd(i),kr(i,xt,h)):((t.lanes&a)!==0&&(ad(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,xt,l)):(l=d.cache,kr(i,xt,l),l!==h.cache&&rd(i,[xt],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var nd=be(null),qs=null,Hi=null;function kr(t,i,a){Oe(nd,i._currentValue),i._currentValue=a}function Fi(t){t._currentValue=nd.current,Ue(nd)}function id(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function rd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),id(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),id(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function fl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;gn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===hr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&rd(i,t,a,l),i.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Uy(qs,t)}function dc(t,i){return qs===null&&Hs(t),Uy(t,i)}function Uy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hi=Hi.next=i;return a}var Mr=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(t),vg(t,null,a),i}return Ku(t,l,i,a),Qu(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,_r(t,a)}}function od(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ld=!1;function ml(){if(ld){var t=Pa;if(t!==null)throw t}}function pl(t,i,a,l){ld=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,L=C.next;C.next=null,v===null?d=L:v.next=L,v=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==v&&(b===null?Y.firstBaseUpdate=L:b.next=L,Y.lastBaseUpdate=C))}if(d!==null){var ee=h.baseState;v=0,Y=L=C=null,b=d;do{var F=b.lane&-536870913,Q=F!==b.lane;if(Q?(Be&F)===F:(l&F)===F){F!==0&&F===Va&&(ld=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,Ae=b;F=i;var ft=a;switch(Ae.tag){case 1:if(de=Ae.payload,typeof de=="function"){ee=de.call(ft,ee,F);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ae.payload,F=typeof de=="function"?de.call(ft,ee,F):de,F==null)break e;ee=I({},ee,F);break e;case 2:Mr=!0}}F=b.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(L=Y=Q,C=ee):Y=Y.next=Q,v|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Br|=v,t.lanes=v,t.memoizedState=ee}}function jy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jy(a[t],i)}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Je(i,i.return,b)}}function Lr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var C=a;try{b()}catch(L){Je(h,C,L)}}}l=l.next}while(l!==d)}}catch(L){Je(i,i.return,L)}}function By(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zy(i,a)}catch(l){Je(t,t.return,l)}}}function qy(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function Fs(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Je(t,i,d)}}function yn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Hy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Fy(t,i,a){try{var l=t.stateNode;Gw(l,t.type,a,i),l[wt]=i}catch(h){Je(t,t.return,h)}}function Gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(cd(t,i,a),t=t.sibling;t!==null;)cd(t,i,a),t=t.sibling}function mc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(mc(t,i,a),t=t.sibling;t!==null;)mc(t,i,a),t=t.sibling}var Gi=!1,ct=!1,hd=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Pt=null,Qy=!1;function Tw(t,i){if(t=t.containerInfo,jd=Mc,t=cg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,C=-1,L=0,Y=0,ee=t,F=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(b=v+h),ee!==d||l!==0&&ee.nodeType!==3||(C=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)F=ee,ee=Q;for(;;){if(ee===t)break t;if(F===a&&++L===h&&(b=v),F===d&&++Y===l&&(C=v),(Q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Q}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Mc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Bs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Je(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}return de=Qy,Qy=!1,de}function $y(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&gl(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){Je(a,a.return,b)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(a,a.return,b)}}l&64&&By(a),l&512&&Fs(a,a.return);break;case 3:if(Qi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zy(l,t)}catch(b){Je(a,a.return,b)}}break;case 26:Qi(t,a),l&512&&Fs(a,a.return);break;case 27:case 5:Qi(t,a),i===null&&l&4&&Hy(a),l&512&&Fs(a,a.return);break;case 12:Qi(t,a);break;case 13:Qi(t,a),l&4&&Wy(t,a);break;case 22:if(h=a.memoizedState!==null||Gi,!h){i=i!==null&&i.memoizedState!==null||ct;var d=Gi,v=ct;Gi=h,(ct=i)&&!v?Ur(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Gi=d,ct=v}l&512&&(a.memoizedProps.mode==="manual"?Fs(a,a.return):yn(a,a.return));break;default:Qi(t,a)}}function Yy(t){var i=t.alternate;i!==null&&(t.alternate=null,Yy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Es(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,_n=!1;function Ki(t,i,a){for(a=a.child;a!==null;)Xy(t,i,a),a=a.sibling}function Xy(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:ct||yn(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||yn(a,i);var l=vt,h=_n;for(vt=a.stateNode,Ki(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Es(a),vt=l,_n=h;break;case 5:ct||yn(a,i);case 6:h=vt;var d=_n;if(vt=null,Ki(t,i,a),vt=h,_n=d,vt!==null)if(_n)try{t=vt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Je(a,i,v)}else try{vt.removeChild(a.stateNode)}catch(v){Je(a,i,v)}break;case 18:vt!==null&&(_n?(i=vt,a=a.stateNode,i.nodeType===8?Hd(i.parentNode,a):i.nodeType===1&&Hd(i,a),Ml(i)):Hd(vt,a.stateNode));break;case 4:l=vt,h=_n,vt=a.stateNode.containerInfo,_n=!0,Ki(t,i,a),vt=l,_n=h;break;case 0:case 11:case 14:case 15:ct||Lr(2,a,i),ct||Lr(4,a,i),Ki(t,i,a);break;case 1:ct||(yn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qy(a,i,l)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:ct||yn(a,i),ct=(l=ct)||a.memoizedState!==null,Ki(t,i,a),ct=l;break;default:Ki(t,i,a)}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){Je(i,i.return,a)}}function bw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ky),i;default:throw Error(s(435,t.tag))}}function fd(t,i){var a=bw(t);i.forEach(function(l){var h=Vw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:case 5:vt=b.stateNode,_n=!1;break e;case 3:vt=b.stateNode.containerInfo,_n=!0;break e;case 4:vt=b.stateNode.containerInfo,_n=!0;break e}b=b.return}if(vt===null)throw Error(s(160));Xy(d,v,h),vt=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Zy(i,t),i=i.sibling}var Fn=null;function Zy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(i,t),Pn(t),l&4&&(Lr(3,t,t.return),gl(3,t),Lr(5,t,t.return));break;case 1:Vn(i,t),Pn(t),l&512&&(ct||a===null||yn(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(Vn(i,t),Pn(t),l&512&&(ct||a===null||yn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Er]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Ot]=t,st(d),l=d;break e;case"link":var v=H_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(v=H_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ot]=t,st(d),l=d}t.stateNode=l}else F_(h,t.type,t.stateNode);else t.stateNode=q_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?F_(h,t.type,t.stateNode):q_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var L=C.nextSibling,Y=C.nodeName;C[Er]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=L}for(var ee=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Ft(h,ee,d),h[Ot]=t,h[wt]=d}catch(de){Je(t,t.return,de)}}case 5:if(Vn(i,t),Pn(t),l&512&&(ct||a===null||yn(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(de){Je(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Fy(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(Vn(i,t),Pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Je(t,t.return,de)}}break;case 3:if(Dc=null,h=Fn,Fn=Cc(i.containerInfo),Vn(i,t),Fn=h,Pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(i.containerInfo)}catch(de){Je(t,t.return,de)}hd&&(hd=!1,Jy(t));break;case 4:l=Fn,Fn=Cc(t.stateNode.containerInfo),Vn(i,t),Pn(t),Fn=l;break;case 12:Vn(i,t),Pn(t);break;case 13:Vn(i,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 22:if(l&512&&(ct||a===null||yn(a,a.return)),C=t.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=Gi,ee=ct,Gi=Y||C,ct=ee||L,Vn(i,t),ct=ee,Gi=Y,Pn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Gi||ct,a===null||L||i||za(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=L.stateNode,b=L.memoizedProps.style;var Q=b!=null&&b.hasOwnProperty("display")?b.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(de){Je(L,L.return,de)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(de){Je(L,L.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fd(t,a))));break;case 19:Vn(i,t),Pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 21:break;default:Vn(i,t),Pn(t)}}function Pn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Gy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=ud(t);mc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(Rn(v,""),l.flags&=-33);var b=ud(t);mc(t,b,v);break;case 3:case 4:var C=l.stateNode.containerInfo,L=ud(t);cd(t,L,C);break;default:throw Error(s(161))}}}catch(Y){Je(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$y(t,i.alternate,i),i=i.sibling}function za(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),za(i);break;case 1:yn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qy(i,i.return,a),za(i);break;case 26:case 27:case 5:yn(i,i.return),za(i);break;case 22:yn(i,i.return),i.memoizedState===null&&za(i);break;default:za(i)}t=t.sibling}}function Ur(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ur(h,d,a),gl(4,d);break;case 1:if(Ur(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Je(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)jy(C[h],b)}catch(L){Je(l,l.return,L)}}a&&v&64&&By(d),Fs(d,d.return);break;case 26:case 27:case 5:Ur(h,d,a),a&&l===null&&v&4&&Hy(d),Fs(d,d.return);break;case 12:Ur(h,d,a);break;case 13:Ur(h,d,a),a&&v&4&&Wy(h,d);break;case 22:d.memoizedState===null&&Ur(h,d,a),Fs(d,d.return);break;default:Ur(h,d,a)}i=i.sibling}}function dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function jr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e_(t,i,a,l),i=i.sibling}function e_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:jr(t,i,a,l),h&2048&&gl(9,i);break;case 3:jr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){jr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else jr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?jr(t,i,a,l):yl(t,i):d._visibility&4?jr(t,i,a,l):(d._visibility|=4,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&dd(i.alternate,i);break;case 24:jr(t,i,a,l),h&2048&&md(i.alternate,i);break;default:jr(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,b=a,C=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(d,v,b,C,h),gl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?Ba(d,v,b,C,h):yl(d,v):(Y._visibility|=4,Ba(d,v,b,C,h)),h&&L&2048&&dd(v.alternate,v);break;case 24:Ba(d,v,b,C,h),h&&L&2048&&md(v.alternate,v);break;default:Ba(d,v,b,C,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&dd(l.alternate,l);break;case 24:yl(a,l),h&2048&&md(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function qa(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)t_(t),t=t.sibling}function t_(t){switch(t.tag){case 26:qa(t),t.flags&_l&&t.memoizedState!==null&&cA(Fn,t.memoizedState,t.memoizedProps);break;case 5:qa(t);break;case 3:case 4:var i=Fn;Fn=Cc(t.stateNode.containerInfo),qa(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=_l,_l=16777216,qa(t),_l=i):qa(t));break;default:qa(t)}}function n_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,r_(l,t)}n_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i_(t),t=t.sibling}function i_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,pc(t)):vl(t);break;default:vl(t)}}function pc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,r_(l,t)}n_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,pc(i));break;default:pc(i)}t=t.sibling}}function r_(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Yy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}function ww(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,i,a,l){return new ww(t,i,a,l)}function pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,i){var a=t.alternate;return a===null?(a=Ln(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function s_(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function gc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")pd(t)&&(v=1);else if(typeof t=="string")v=lA(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Gs(a.children,h,d,i);case g:v=8,h|=24;break;case E:return t=Ln(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case G:return t=Ln(13,a,i,h),t.elementType=G,t.lanes=d,t;case B:return t=Ln(19,a,i,h),t.elementType=B,t.lanes=d,t;case J:return a_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case N:v=10;break e;case S:v=9;break e;case V:v=11;break e;case $:v=14;break e;case ne:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Ln(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Gs(t,i,a,l){return t=Ln(7,t,l,i),t.lanes=a,t}function a_(t,i,a,l){t=Ln(22,t,l,i),t.elementType=J,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Ir(d,2);v!==null&&(h._pendingVisibility|=2,on(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Ir(d,2);v!==null&&(h._pendingVisibility&=-3,on(v,d,2))}}};return t.stateNode=h,t}function gd(t,i,a){return t=Ln(6,t,null,i),t.lanes=a,t}function yd(t,i,a){return i=Ln(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function $i(t){t.flags|=4}function o_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!G_(i)){if(i=Mn.current,i!==null&&((Be&4194176)===Be?ci!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==ci))throw il=bf,Ag;t.flags|=8192}}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?gr():536870912,t.lanes|=i,Fa|=i)}function El(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Aw(t,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(xt),xi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Jo(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hn!==null&&(Sd(Hn),Hn=null))),at(i),null;case 26:return a=i.memoizedState,t===null?($i(i),a!==null?(at(i),o_(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?($i(i),at(i),o_(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&$i(i),at(i),i.flags&=-16777217),null;case 27:ua(i),a=wn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=dt.current,Jo(i)?bg(i):(t=L_(h,l,a),i.stateNode=t,$i(i))}return at(i),null;case 5:if(ua(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=dt.current,Jo(i))bg(i);else{switch(h=Ic(wn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ot]=i,t[wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$i(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=wn.current,Jo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D_(t.nodeValue,a)),t||Vs(i)}else t=Ic(t).createTextNode(l),t[Ot]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Jo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ot]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else Hn!==null&&(Sd(Hn),Hn=null),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),at(i),null;case 4:return xi(),t===null&&Pd(i.stateNode.containerInfo),at(i),null;case 10:return Fi(i.type),at(i),null;case 19:if(Ue(Rt),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)El(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ec(t),d!==null){for(i.flags|=128,El(h,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)s_(a,t),a=a.sibling;return Oe(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&un()>_c&&(i.flags|=128,l=!0,El(h,!1),i.lanes=4194304)}else{if(!l)if(t=ec(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),El(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ge)return at(i),null}else 2*un()-h.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,l=!0,El(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=un(),i.sibling=null,t=Rt.current,Oe(Rt,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return zi(i),Af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Ue(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(xt),at(i),null;case 25:return null}throw Error(s(156,i.tag))}function Sw(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fi(xt),xi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ua(i),null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));el()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ue(Rt),null;case 4:return xi(),null;case 10:return Fi(i.type),null;case 22:case 23:return zi(i),Af(),t!==null&&Ue(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fi(xt),null;case 25:return null;default:return null}}function l_(t,i){switch(Ef(i),i.tag){case 3:Fi(xt),xi();break;case 26:case 27:case 5:ua(i);break;case 4:xi();break;case 13:zi(i);break;case 19:Ue(Rt);break;case 10:Fi(i.type);break;case 22:case 23:zi(i),Af(),t!==null&&Ue(Ls);break;case 24:Fi(xt)}}var Rw={getCacheForType:function(t){var i=Xt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},xw=typeof WeakMap=="function"?WeakMap:Map,ot=0,et=null,ke=null,Be=0,tt=0,vn=null,Yi=!1,Ha=!1,_d=!1,Xi=0,ht=0,Br=0,Ks=0,vd=0,Un=0,Fa=0,Tl=null,fi=null,Ed=!1,Td=0,_c=1/0,vc=null,qr=null,Ec=!1,Qs=null,bl=0,bd=0,wd=null,wl=0,Ad=null;function En(){if((ot&2)!==0&&Be!==0)return Be&-Be;if(w.T!==null){var t=Va;return t!==0?t:Od()}return Ru()}function u_(){Un===0&&(Un=(Be&536870912)===0||Ge?Vo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),Un}function on(t,i,a){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(Ga(t,0),Wi(t,Be,Un,!1)),mt(t,a),((ot&2)===0||t!==et)&&(t===et&&((ot&2)===0&&(Ks|=a),ht===4&&Wi(t,Be,Un,!1)),di(t))}function c_(t,i,a){if((ot&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||pr(t,i),h=l?Nw(t,i):Id(t,i,!0),d=l;do{if(h===0){Ha&&!l&&Wi(t,i,0,!1);break}else if(h===6)Wi(t,i,0,!Yi);else{if(a=t.current.alternate,d&&!Iw(a)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Tl;var C=b.current.memoizedState.isDehydrated;if(C&&(Ga(b,v).flags|=256),v=Id(b,v,!1),v!==2){if(_d&&!C){b.errorRecoveryDisabledLanes|=d,Ks|=d,h=4;break e}d=fi,fi=h,d!==null&&Sd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),Wi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Wi(l,i,Un,!Yi);break e}break;case 2:fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Td+300-un(),10<d)){if(Wi(l,i,Un,!Yi),An(l,0)!==0)break e;l.timeoutHandle=M_(h_.bind(null,l,a,fi,vc,Ed,i,Un,Ks,Fa,Yi,2,-0,0),d);break e}h_(l,a,fi,vc,Ed,i,Un,Ks,Fa,Yi,0,-0,0)}}break}while(!0);di(t)}function Sd(t){fi===null?fi=t:fi.push.apply(fi,t)}function h_(t,i,a,l,h,d,v,b,C,L,Y,ee,F){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:uA},t_(i),i=hA(),i!==null)){t.cancelPendingCommit=i(__.bind(null,t,a,l,h,v,b,C,1,ee,F)),Wi(t,d,v,!L);return}__(t,a,l,h,v,b,C,Y,ee,F)}function Iw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wi(t,i,a,l){i&=~vd,i&=~Ks,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-nn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&yr(t,a,i)}function Tc(){return(ot&6)===0?(Al(0),!1):!0}function Rd(){if(ke!==null){if(tt===0)var t=ke.return;else t=ke,Hi=qs=null,Of(t),ka=null,rl=0,t=ke;for(;t!==null;)l_(t.alternate,t),t=t.return;ke=null}}function Ga(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Qw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rd(),et=t,ke=a=zr(t.current,null),Be=i,tt=0,vn=null,Yi=!1,Ha=pr(t,i),_d=!1,Fa=Un=vd=Ks=Br=ht=0,fi=Tl=null,Ed=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-nn(l),d=1<<h;i|=t[h],l&=~d}return Xi=i,Gu(),a}function f_(t,i){Ne=null,w.H=hi,i===nl?(i=xg(),tt=3):i===Ag?(i=xg(),tt=4):tt=i===Sy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,ke===null&&(ht=1,hc(t,Dn(i,t.current)))}function d_(){var t=w.H;return w.H=hi,t===null?hi:t}function m_(){var t=w.A;return w.A=Rw,t}function xd(){ht=4,Yi||(Be&4194176)!==Be&&Mn.current!==null||(Ha=!0),(Br&134217727)===0&&(Ks&134217727)===0||et===null||Wi(et,Be,Un,!1)}function Id(t,i,a){var l=ot;ot|=2;var h=d_(),d=m_();(et!==t||Be!==i)&&(vc=null,Ga(t,i)),i=!1;var v=ht;e:do try{if(tt!==0&&ke!==null){var b=ke,C=vn;switch(tt){case 8:Rd(),v=6;break e;case 3:case 2:case 6:Mn.current===null&&(i=!0);var L=tt;if(tt=0,vn=null,Ka(t,b,C,L),a&&Ha){v=0;break e}break;default:L=tt,tt=0,vn=null,Ka(t,b,C,L)}}Cw(),v=ht;break}catch(Y){f_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Hi=qs=null,ot=l,w.H=h,w.A=d,ke===null&&(et=null,Be=0,Gu()),v}function Cw(){for(;ke!==null;)p_(ke)}function Nw(t,i){var a=ot;ot|=2;var l=d_(),h=m_();et!==t||Be!==i?(vc=null,_c=un()+500,Ga(t,i)):Ha=pr(t,i);e:do try{if(tt!==0&&ke!==null){i=ke;var d=vn;t:switch(tt){case 1:tt=0,vn=null,Ka(t,i,d,1);break;case 2:if(Sg(d)){tt=0,vn=null,g_(i);break}i=function(){tt===2&&et===t&&(tt=7),di(t)},d.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Sg(d)?(tt=0,vn=null,g_(i)):(tt=0,vn=null,Ka(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var b=ke;if(!v||G_(v)){tt=0,vn=null;var C=b.sibling;if(C!==null)ke=C;else{var L=b.return;L!==null?(ke=L,bc(L)):ke=null}break t}}tt=0,vn=null,Ka(t,i,d,5);break;case 6:tt=0,vn=null,Ka(t,i,d,6);break;case 8:Rd(),ht=6;break e;default:throw Error(s(462))}}Dw();break}catch(Y){f_(t,Y)}while(!0);return Hi=qs=null,w.H=l,w.A=h,ot=a,ke!==null?0:(et=null,Be=0,Gu(),ht)}function Dw(){for(;ke!==null&&!tf();)p_(ke)}function p_(t){var i=Ly(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,i===null?bc(t):ke=i}function g_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Dy(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Dy(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Of(i);default:l_(a,i),i=ke=s_(i,Xi),i=Ly(a,i,Xi)}t.memoizedProps=t.pendingProps,i===null?bc(t):ke=i}function Ka(t,i,a,l){Hi=qs=null,Of(i),ka=null,rl=0;var h=i.return;try{if(vw(t,h,i,a,Be)){ht=1,hc(t,Dn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;ht=1,hc(t,Dn(a,t.current)),ke=null;return}i.flags&32768?(Ge||l===1?t=!0:Ha||(Be&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),y_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){y_(i,Yi);return}t=i.return;var a=Aw(i.alternate,i,Xi);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);ht===0&&(ht=5)}function y_(t,i){do{var a=Sw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);ht=6,ke=null}function __(t,i,a,l,h,d,v,b,C,L){var Y=w.T,ee=oe.p;try{oe.p=2,w.T=null,Ow(t,i,a,l,ee,h,d,v,b,C,L)}finally{w.T=Y,oe.p=ee}}function Ow(t,i,a,l,h,d,v,b){do Qa();while(Qs!==null);if((ot&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=yf,Au(t,l,L,d,v,b),t===et&&(ke=et=null,Be=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Ec||(Ec=!0,bd=L,wd=a,Pw(Ii,function(){return Qa(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=oe.p,oe.p=2,v=ot,ot|=4,Tw(t,C),Zy(C,t),nw(zd,t.containerInfo),Mc=!!jd,zd=jd=null,t.current=C,$y(t,C.alternate,C),Do(),ot=v,oe.p=d,w.T=a):t.current=C,Ec?(Ec=!1,Qs=t,bl=l):v_(t,L),L=t.pendingLanes,L===0&&(qr=null),ko(C.stateNode),di(t),i!==null)for(h=t.onRecoverableError,C=0;C<i.length;C++)L=i[C],h(L.value,{componentStack:L.stack});return(bl&3)!==0&&Qa(),L=t.pendingLanes,(l&4194218)!==0&&(L&42)!==0?t===Ad?wl++:(wl=0,Ad=t):wl=0,Al(0),null}function v_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Qa(){if(Qs!==null){var t=Qs,i=bd;bd=0;var a=Su(bl),l=w.T,h=oe.p;try{if(oe.p=32>a?32:a,w.T=null,Qs===null)var d=!1;else{a=wd,wd=null;var v=Qs,b=bl;if(Qs=null,bl=0,(ot&6)!==0)throw Error(s(331));var C=ot;if(ot|=4,i_(v.current),e_(v,v.current,b,a),ot=C,Al(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(dr,v)}catch{}d=!0}return d}finally{oe.p=h,w.T=l,v_(t,i)}}return!1}function E_(t,i,a){i=Dn(a,i),i=Kf(t.stateNode,i,2),t=Pr(t,i,2),t!==null&&(mt(t,2),di(t))}function Je(t,i,a){if(t.tag===3)E_(t,t,a);else for(;i!==null;){if(i.tag===3){E_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=Dn(a,t),a=wy(2),l=Pr(i,a,2),l!==null&&(Ay(a,l,i,t),mt(l,2),di(l));break}}i=i.return}}function Cd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_d=!0,h.add(a),t=kw.bind(null,t,i,a),i.then(t,t))}function kw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Be&a)===a&&(ht===4||ht===3&&(Be&62914560)===Be&&300>un()-Td?(ot&2)===0&&Ga(t,0):vd|=a,Fa===Be&&(Fa=0)),di(t)}function T_(t,i){i===0&&(i=gr()),t=Ir(t,i),t!==null&&(mt(t,i),di(t))}function Mw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),T_(t,a)}function Vw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),T_(t,a)}function Pw(t,i){return ys(t,i)}var wc=null,$a=null,Nd=!1,Ac=!1,Dd=!1,$s=0;function di(t){t!==$a&&t.next===null&&($a===null?wc=$a=t:$a=$a.next=t),Ac=!0,Nd||(Nd=!0,Uw(Lw))}function Al(t,i){if(!Dd&&Ac){Dd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-nn(42|t)+1)-1,d&=h&~(v&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,A_(l,d))}else d=Be,d=An(l,l===et?d:0),(d&3)===0||pr(l,d)||(a=!0,A_(l,d));l=l.next}while(a);Dd=!1}}function Lw(){Ac=Nd=!1;var t=0;$s!==0&&(Kw()&&(t=$s),$s=0);for(var i=un(),a=null,l=wc;l!==null;){var h=l.next,d=b_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(Ac=!0)),l=h}Al(t)}function b_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-nn(d),b=1<<v,C=h[v];C===-1?((b&a)===0||(b&l)!==0)&&(h[v]=fa(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=et,a=Be,a=An(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&tt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||pr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ha(l),Su(a)){case 2:case 8:a=Dt;break;case 32:a=Ii;break;case 268435456:a=Oo;break;default:a=Ii}return l=w_.bind(null,t),a=ys(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ha(l),t.callbackPriority=2,t.callbackNode=null,2}function w_(t,i){var a=t.callbackNode;if(Qa()&&t.callbackNode!==a)return null;var l=Be;return l=An(t,t===et?l:0),l===0?null:(c_(t,l,i),b_(t,un()),t.callbackNode!=null&&t.callbackNode===a?w_.bind(null,t):null)}function A_(t,i){if(Qa())return null;c_(t,i,!0)}function Uw(t){$w(function(){(ot&6)!==0?ys(bt,t):t()})}function Od(){return $s===0&&($s=Vo()),$s}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function R_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=S_((h[wt]||null).action),v=l.submitter;v&&(i=(i=v[wt]||null)?S_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new va("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var C=v?R_(h,v):new FormData(h);Bf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=v?R_(h,v):new FormData(h),Bf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var kd=0;kd<_g.length;kd++){var Md=_g[kd],zw=Md.toLowerCase(),Bw=Md[0].toUpperCase()+Md.slice(1);qn(zw,"on"+Bw)}qn(dg,"onAnimationEnd"),qn(mg,"onAnimationIteration"),qn(pg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(rw,"onTransitionRun"),qn(sw,"onTransitionStart"),qn(aw,"onTransitionCancel"),qn(gg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function x_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],C=b.instance,L=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=L;try{d(h)}catch(Y){cc(Y)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(b=l[v],C=b.instance,L=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=L;try{d(h)}catch(Y){cc(Y)}h.currentTarget=null,d=C}}}}function Pe(t,i){var a=i[vs];a===void 0&&(a=i[vs]=new Set);var l=t+"__bubble";a.has(l)||(I_(i,t,2,!1),a.add(l))}function Vd(t,i,a){var l=0;i&&(l|=4),I_(a,t,l,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Sc]){t[Sc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(qw.has(a)||Vd(a,!1,t),Vd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Vd("selectionchange",!1,i))}}function I_(t,i,a,l){switch(W_(i)){case 2:var h=mA;break;case 8:h=pA;break;default:h=Yd}a=h.bind(null,i,a,t),h=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ld(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;b!==null;){if(v=Bn(b),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Nu(function(){var L=d,Y=_a(a),ee=[];e:{var F=yg.get(t);if(F!==void 0){var Q=va,de=t;switch(t){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":Q=Sa;break;case"focusin":de="focus",Q=ba;break;case"focusout":de="blur",Q=ba;break;case"beforeblur":case"afterblur":Q=ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Uu;break;case dg:case mg:case pg:Q=wa;break;case gg:Q=zu;break;case"scroll":case"scrollend":Q=Du;break;case"wheel":Q=Ra;break;case"copy":case"cut":case"paste":Q=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Yo;break;case"toggle":case"beforetoggle":Q=qu}var Ae=(i&4)!==0,ft=!Ae&&(t==="scroll"||t==="scrollend"),z=Ae?F!==null?F+"Capture":null:F;Ae=[];for(var P=L,H;P!==null;){var X=P;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||z===null||(X=As(P,z),X!=null&&Ae.push(Rl(P,X,H))),ft)break;P=P.return}0<Ae.length&&(F=new Q(F,de,null,a,Y),ee.push({event:F,listeners:Ae}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==xn&&(de=a.relatedTarget||a.fromElement)&&(Bn(de)||de[Ci]))break e;if((Q||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(de=a.relatedTarget||a.toElement,Q=L,de=de?Bn(de):null,de!==null&&(ft=me(de),Ae=de.tag,de!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(de=null)):(Q=null,de=L),Q!==de)){if(Ae=Cn,X="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Yo,X="onPointerLeave",z="onPointerEnter",P="pointer"),ft=Q==null?F:Tr(Q),H=de==null?F:Tr(de),F=new Ae(X,P+"leave",Q,a,Y),F.target=ft,F.relatedTarget=H,X=null,Bn(Y)===L&&(Ae=new Ae(z,P+"enter",de,a,Y),Ae.target=H,Ae.relatedTarget=ft,X=Ae),ft=X,Q&&de)t:{for(Ae=Q,z=de,P=0,H=Ae;H;H=Ya(H))P++;for(H=0,X=z;X;X=Ya(X))H++;for(;0<P-H;)Ae=Ya(Ae),P--;for(;0<H-P;)z=Ya(z),H--;for(;P--;){if(Ae===z||z!==null&&Ae===z.alternate)break t;Ae=Ya(Ae),z=Ya(z)}Ae=null}else Ae=null;Q!==null&&C_(ee,F,Q,Ae,!1),de!==null&&ft!==null&&C_(ee,ft,de,Ae,!0)}}e:{if(F=L?Tr(L):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var he=ng;else if(St(F))if(ig)he=ew;else{he=Zb;var De=Wb}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&qo(L.elementType)&&(he=ng):he=Jb;if(he&&(he=he(t,L))){Li(ee,he,a,Y);break e}De&&De(t,F,L),t==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&ya(F,"number",F.value)}switch(De=L?Tr(L):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(xa=De,mf=L,Zo=null);break;case"focusout":Zo=mf=xa=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,hg(ee,a,Y);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":hg(ee,a,Y)}var pe;if(oi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(pe=Fo()):(ii=Y,xr="value"in ii?ii.value:ii.textContent,je=!0)),De=Rc(L,ve),0<De.length&&(ve=new Qo(ve,t,null,a,Y),ee.push({event:ve,listeners:De}),pe?ve.data=pe:(pe=ie(a),pe!==null&&(ve.data=pe)))),(pe=y?At(t,a):ze(t,a))&&(ve=Rc(L,"onBeforeInput"),0<ve.length&&(De=new Qo("onBeforeInput","beforeinput",null,a,Y),ee.push({event:De,listeners:ve}),De.data=pe)),jw(ee,t,L,a,Y)}x_(ee,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Rc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=As(t,i),h!=null&&l.push(Rl(t,h,d))),t=t.return}return l}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,C=b.alternate,L=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||L===null||(C=L,h?(L=As(a,d),L!=null&&v.unshift(Rl(a,L,C))):h||(L=As(a,d),L!=null&&v.push(Rl(a,L,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Hw=/\r\n?/g,Fw=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(Hw,`
`).replace(Fw,"")}function D_(t,i){return i=N_(i),N_(t)===i}function xc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(t,""+l);break;case"className":Ar(t,"class",l);break;case"tabIndex":Ar(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(t,a,l);break;case"style":Cu(t,l,d);break;case"data":if(i!=="object"){Ar(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),wr(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,wr(t,a,l))}}function Ud(t,i,a,l,h,d){switch(a){case"style":Cu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wr(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var b=d=v=h=null,C=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":L=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:We(t,i,l,Y,a,null)}}bs(t,d,b,C,L,v,h,!1),Ts(t);return;case"select":Pe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:We(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Fe(t,!!l,i,!1):a!=null&&Fe(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,i,v,b,a,null)}Rr(t,l,h,d),Ts(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Pe(Sl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,L,l,a,null)}return;default:if(qo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Ud(t,i,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,i,b,l,a,null))}function Gw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,C=null,L=null,Y=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,ee)}}for(var F in l){var Q=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Q!=null||ee!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":L=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&We(t,i,F,Q,l,ee)}}Sr(t,v,b,C,L,Y,d,h);return;case"select":Q=v=b=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==C&&We(t,i,h,d,l,C)}i=b,a=v,l=Q,F!=null?Fe(t,!!a,F,!1):!!l!=!!a&&(i!=null?Fe(t,!!a,i,!0):Fe(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}ws(t,F,Q);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:We(t,i,de,null,l,F)}for(C in l)if(F=l[C],Q=a[C],l.hasOwnProperty(C)&&F!==Q&&(F!=null||Q!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,C,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae)&&We(t,i,Ae,null,l,F);for(L in l)if(F=l[L],Q=a[L],l.hasOwnProperty(L)&&F!==Q&&(F!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,L,F,l,Q)}return;default:if(qo(i)){for(var ft in a)F=a[ft],a.hasOwnProperty(ft)&&F!==void 0&&!l.hasOwnProperty(ft)&&Ud(t,i,ft,void 0,l,F);for(Y in l)F=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||F===Q||F===void 0&&Q===void 0||Ud(t,i,Y,F,l,Q);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&We(t,i,z,null,l,F);for(ee in l)F=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||F===Q||F==null&&Q==null||We(t,i,ee,F,l,Q)}var jd=null,zd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function Kw(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(Yw)}:M_;function Yw(t){setTimeout(function(){throw t})}function Hd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Ml(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ml(i)}function Fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),Es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Xw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Er])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function Ww(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function P_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function L_(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var jn=new Map,U_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Zi=oe.d;oe.d={f:Zw,r:Jw,D:eA,C:tA,L:nA,m:iA,X:sA,S:rA,M:aA};function Zw(){var t=Zi.f(),i=Tc();return t||i}function Jw(t){var i=Ni(t);i!==null&&i.tag===5&&i.type==="form"?hy(i):Zi.r(t)}var Xa=typeof document>"u"?null:document;function j_(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=ut(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U_.has(h)||(U_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),st(i),l.head.appendChild(i)))}}function eA(t){Zi.D(t),j_("dns-prefetch",t,null)}function tA(t,i){Zi.C(t,i),j_("preconnect",t,i)}function nA(t,i,a){Zi.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ut(a.imageSizes)+'"]')):h+='[href="'+ut(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}jn.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Ft(i,"link",t),st(i),l.head.appendChild(i)))}}function iA(t,i){Zi.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!jn.has(d)&&(t=I({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Ft(l,"link",t),st(l),a.head.appendChild(l)}}}function rA(t,i,a){Zi.S(t,i,a);var l=Xa;if(l&&t){var h=br(l).hoistableStyles,d=Wa(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(xl(d)))b.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&Gd(t,a);var C=v=l.createElement("link");st(C),Ft(C,"link",t),C._p=new Promise(function(L,Y){C.onload=L,C.onerror=Y}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function sA(t,i){Zi.X(t,i);var a=Xa;if(a&&t){var l=br(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=I({src:t,async:!0},i),(i=jn.get(h))&&Kd(t,i),d=a.createElement("script"),st(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function aA(t,i){Zi.M(t,i);var a=Xa;if(a&&t){var l=br(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&Kd(t,i),d=a.createElement("script"),st(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(t,i,a,l){var h=(h=wn.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=br(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=br(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(xl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||oA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=br(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+ut(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function B_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function oA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),st(i),t.head.appendChild(i))}function Za(t){return'[src="'+ut(t)+'"]'}function Il(t){return"script[async]"+t}function q_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ut(a.href)+'"]');if(l)return i.instance=l,st(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),st(l),Ft(l,"style",h),Nc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,st(d),d;l=B_(a),(h=jn.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),st(d);var v=d;return v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Ft(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,st(h),h):(l=a,(h=jn.get(d))&&(l=I({},a),Kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),st(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,t));return i.instance}function Nc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function H_(t,i,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Er]||d[Ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function F_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function lA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function G_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function uA(){}function cA(t,i,a){if(Cl===null)throw Error(s(475));var l=Cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Wa(a.href),d=t.querySelector(xl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,st(d);return}d=t.ownerDocument||t,a=B_(a),(h=jn.get(h))&&Gd(a,h),d=d.createElement("link"),st(d);var v=d;v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Oc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function hA(){if(Cl===null)throw Error(s(475));var t=Cl;return t.stylesheets&&t.count===0&&Qd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Qd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Qd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(fA,t),kc=null,Oc.call(t))}function fA(t,i){if(!(i.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:N,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function dA(t,i,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function K_(t,i,a,l,h,d,v,b,C,L,Y,ee){return t=new dA(t,i,a,v,b,C,L,ee),i=1,d===!0&&(i|=24),d=Ln(3,null,null,i),t.current=d,d.stateNode=t,i=Sf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},sd(d),t}function Q_(t){return t?(t=Na,t):Na}function $_(t,i,a,l,h,d){h=Q_(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(t,l,i),a!==null&&(on(a,t,i),dl(a,t,i))}function Y_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){Y_(t,i),(t=t.alternate)&&Y_(t,i)}function X_(t){if(t.tag===13){var i=Ir(t,67108864);i!==null&&on(i,t,67108864),$d(t,67108864)}}var Mc=!0;function mA(t,i,a,l){var h=w.T;w.T=null;var d=oe.p;try{oe.p=2,Yd(t,i,a,l)}finally{oe.p=d,w.T=h}}function pA(t,i,a,l){var h=w.T;w.T=null;var d=oe.p;try{oe.p=8,Yd(t,i,a,l)}finally{oe.p=d,w.T=h}}function Yd(t,i,a,l){if(Mc){var h=Xd(l);if(h===null)Ld(t,i,l,Vc,a),Z_(t,l);else if(yA(h,t,i,a,l))l.stopPropagation();else if(Z_(t,l),i&4&&-1<gA.indexOf(t)){for(;h!==null;){var d=Ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var C=1<<31-nn(v);b.entanglements[1]|=C,v&=~C}di(d),(ot&6)===0&&(_c=un()+500,Al(0))}}break;case 13:b=Ir(d,2),b!==null&&on(b,d,2),Tc(),$d(d,2)}if(d=Xd(l),d===null&&Ld(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,i,l,null,a)}}function Xd(t){return t=_a(t),Wd(t)}var Vc=null;function Wd(t){if(Vc=null,t=Bn(t),t!==null){var i=me(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=He(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function W_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eu()){case bt:return 2;case Dt:return 8;case Ii:case Tu:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var Zd=!1,Hr=null,Fr=null,Gr=null,Dl=new Map,Ol=new Map,Kr=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(t,i){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function kl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ni(i),i!==null&&X_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function yA(t,i,a,l,h){switch(i){case"focusin":return Hr=kl(Hr,t,i,a,l,h),!0;case"dragenter":return Fr=kl(Fr,t,i,a,l,h),!0;case"mouseover":return Gr=kl(Gr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,kl(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,kl(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function J_(t){var i=Bn(t.target);if(i!==null){var a=me(i);if(a!==null){if(i=a.tag,i===13){if(i=He(a),i!==null){t.blockedOn=i,vr(t.priority,function(){if(a.tag===13){var l=En(),h=Ir(a,l);h!==null&&on(h,a,l),$d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xn=l,a.target.dispatchEvent(l),xn=null}else return i=Ni(a),i!==null&&X_(i),t.blockedOn=a,!1;i.shift()}return!0}function ev(t,i,a){Pc(t)&&a.delete(i)}function _A(){Zd=!1,Hr!==null&&Pc(Hr)&&(Hr=null),Fr!==null&&Pc(Fr)&&(Fr=null),Gr!==null&&Pc(Gr)&&(Gr=null),Dl.forEach(ev),Ol.forEach(ev)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_A)))}var Uc=null;function tv(t){Uc!==t&&(Uc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=Ni(a);d!==null&&(t.splice(i,3),i-=3,Bf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(t){function i(C){return Lc(C,t)}Hr!==null&&Lc(Hr,t),Fr!==null&&Lc(Fr,t),Gr!==null&&Lc(Gr,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)J_(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[wt]||null;if(typeof d=="function")v||tv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[wt]||null)b=v.formAction;else if(Wd(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),tv(a)}}}function Jd(t){this._internalRoot=t}jc.prototype.render=Jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();$_(a,l,t,i,null,null)},jc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Qa(),$_(t.current,2,null,t,null,null),Tc(),i[Ci]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&J_(t)}};var nv=e.version;if(nv!=="19.0.0")throw Error(s(527,nv,"19.0.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var vA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Bn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{dr=zc.inject(vA),Yt=zc}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=vy,d=Ey,v=Ty,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=K_(t,1,!1,null,null,a,l,h,d,v,b,null),t[Ci]=i.current,Pd(t.nodeType===8?t.parentNode:t),new Jd(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=vy,v=Ey,b=Ty,C=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=K_(t,1,!0,i,a??null,l,h,d,v,b,C,L),i.context=Q_(null),a=i.current,l=En(),h=Vr(l),h.callback=null,Pr(a,h,l),i.current.lanes=l,mt(i,l),di(i),t[Ci]=i.current,Pd(t),new jc(i)},Pl.version="19.0.0",Pl}var fv;function CA(){if(fv)return nm.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=IA(),nm.exports}var NA=CA(),Ll={},dv;function DA(){if(dv)return Ll;dv=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=f,Ll.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,N){const V=new u,G=S.length;if(G<2)return V;const B=(N==null?void 0:N.decode)||E;let $=0;do{const ne=S.indexOf("=",$);if(ne===-1)break;const J=S.indexOf(";",$),le=J===-1?G:J;if(ne>le){$=S.lastIndexOf(";",ne-1)+1;continue}const se=m(S,$,ne),ge=p(S,ne,se),O=S.slice(se,ge);if(V[O]===void 0){let x=m(S,ne+1,le),w=p(S,le,x);const I=B(S.slice(x,w));V[O]=I}$=le+1}while($<G);return V}function m(S,N,V){do{const G=S.charCodeAt(N);if(G!==32&&G!==9)return N}while(++N<V);return V}function p(S,N,V){for(;N>V;){const G=S.charCodeAt(--N);if(G!==32&&G!==9)return N+1}return V}function g(S,N,V){const G=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const B=G(N);if(!e.test(B))throw new TypeError(`argument val is invalid: ${N}`);let $=S+"="+B;if(!V)return $;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);$+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);$+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);$+="; Path="+V.path}if(V.expires){if(!R(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);$+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&($+="; HttpOnly"),V.secure&&($+="; Secure"),V.partitioned&&($+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function R(S){return o.call(S)==="[object Date]"}return Ll}DA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mv="popstate";function OA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Tm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xl(o)}return MA(e,n,null,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kA(){return Math.random().toString(36).substring(2,10)}function pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Tm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||kA()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Eo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function MA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function R(){m="POP";let B=E(),$=B==null?null:B-g;g=B,p&&p({action:m,location:G.location,delta:$})}function S(B,$){m="PUSH";let ne=Tm(G.location,B,$);g=E()+1;let J=pv(ne,g),le=G.createHref(ne);try{f.pushState(J,"",le)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(le)}u&&p&&p({action:m,location:G.location,delta:1})}function N(B,$){m="REPLACE";let ne=Tm(G.location,B,$);g=E();let J=pv(ne,g),le=G.createHref(ne);f.replaceState(J,"",le),u&&p&&p({action:m,location:G.location,delta:0})}function V(B){let $=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof B=="string"?B:Xl(B);return ne=ne.replace(/ $/,"%20"),rt($,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,$)}let G={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,R),p=B,()=>{o.removeEventListener(mv,R),p=null}},createHref(B){return e(o,B)},createURL:V,encodeLocation(B){let $=V(B);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:N,go(B){return f.go(B)}};return G}function J0(r,e,n="/"){return VA(r,e,n,!1)}function VA(r,e,n,s){let o=typeof e=="string"?Eo(e):e,u=rs(o.pathname||"/",n);if(u==null)return null;let f=eE(r);PA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=QA(u);m=GA(f[p],g,s)}return m}function eE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),eE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:HA(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of tE(u.path))o(u,f,p)}),e}function tE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=tE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function PA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:FA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var LA=/^:[\w-]+$/,UA=3,jA=2,zA=1,BA=10,qA=-2,gv=r=>r==="*";function HA(r,e){let n=r.split("/"),s=n.length;return n.some(gv)&&(s+=qA),e&&(s+=jA),n.filter(o=>!gv(o)).reduce((o,u)=>o+(LA.test(u)?UA:u===""?zA:BA),s)}function FA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function GA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",R=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!R&&g&&n&&!s[s.length-1].route.index&&(R=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!R)return null;Object.assign(o,R.params),f.push({params:o,pathname:nr([u,R.pathname]),pathnameBase:WA(nr([u,R.pathnameBase])),route:S}),R.pathnameBase!=="/"&&(u=nr([u,R.pathnameBase]))}return f}function lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:R},S)=>{if(E==="*"){let V=m[S]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const N=m[S];return R&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function KA(r,e=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function QA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function rs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function $A(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Eo(r):r;return{pathname:n?n.startsWith("/")?n:YA(n,e):e,search:ZA(s),hash:JA(o)}}function YA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zm(r){let e=XA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jm(r,e,n,s=!1){let o;typeof r=="string"?o=Eo(r):(o={...r},rt(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),R-=1;o.pathname=S.join("/")}m=R>=0?e[R]:"/"}let p=$A(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),WA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,JA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function eS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var nE=["POST","PUT","PATCH","DELETE"];new Set(nE);var tS=["GET",...nE];new Set(tS);var To=j.createContext(null);To.displayName="DataRouter";var Nh=j.createContext(null);Nh.displayName="DataRouterState";var iE=j.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var nS=j.createContext(new Map);nS.displayName="Fetchers";var iS=j.createContext(null);iS.displayName="Await";var Wn=j.createContext(null);Wn.displayName="Navigation";var su=j.createContext(null);su.displayName="Location";var Ai=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var ep=j.createContext(null);ep.displayName="RouteError";function rS(r,{relative:e}={}){rt(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Wn),{hash:o,pathname:u,search:f}=au(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function bo(){return j.useContext(su)!=null}function fs(){return rt(bo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(su).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(r){j.useContext(Wn).static||j.useLayoutEffect(r)}function ia(){let{isDataRoute:r}=j.useContext(Ai);return r?yS():sS()}function sS(){rt(bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(To),{basename:e,navigator:n}=j.useContext(Wn),{matches:s}=j.useContext(Ai),{pathname:o}=fs(),u=JSON.stringify(Zm(s)),f=j.useRef(!1);return sE(()=>{f.current=!0}),j.useCallback((p,g={})=>{if($n(f.current,rE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Jm(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:nr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}j.createContext(null);function au(r,{relative:e}={}){let{matches:n}=j.useContext(Ai),{pathname:s}=fs(),o=JSON.stringify(Zm(n));return j.useMemo(()=>Jm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function aS(r,e){return aE(r,e)}function aE(r,e,n,s){var ne;rt(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext(Wn),{matches:f}=j.useContext(Ai),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",R=m&&m.route;{let J=R&&R.path||"";oE(g,!R||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=fs(),N;if(e){let J=typeof e=="string"?Eo(e):e;rt(E==="/"||((ne=J.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),N=J}else N=S;let V=N.pathname||"/",G=V;if(E!=="/"){let J=E.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice(J.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:J0(r,{pathname:G});$n(R||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),$n(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=hS(B&&B.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:nr([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:nr([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&$?j.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},$):$}function oS(){let r=gS(),e=eS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var lS=j.createElement(oS,null),uS=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(Ai.Provider,{value:this.props.routeContext},j.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cS({routeContext:r,match:e,children:n}){let s=j.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ai.Provider,{value:r},n)}function hS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:R}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!R||R[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let R,S=!1,N=null,V=null;n&&(R=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||lS,f&&(m<0&&E===0?(oE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===E&&(S=!0,V=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),B=()=>{let $;return R?$=N:S?$=V:g.route.Component?$=j.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,j.createElement(cS,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?j.createElement(uS,{location:n.location,revalidation:n.revalidation,component:N,error:R,children:B(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):B()},null)}function tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(r){let e=j.useContext(To);return rt(e,tp(r)),e}function dS(r){let e=j.useContext(Nh);return rt(e,tp(r)),e}function mS(r){let e=j.useContext(Ai);return rt(e,tp(r)),e}function np(r){let e=mS(r),n=e.matches[e.matches.length-1];return rt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function pS(){return np("useRouteId")}function gS(){var s;let r=j.useContext(ep),e=dS("useRouteError"),n=np("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function yS(){let{router:r}=fS("useNavigate"),e=np("useNavigate"),n=j.useRef(!1);return sE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{$n(n.current,rE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var yv={};function oE(r,e,n){!e&&!yv[r]&&(yv[r]=!0,$n(!1,n))}j.memo(_S);function _S({routes:r,future:e,state:n}){return aE(r,void 0,n,e)}function bm({to:r,replace:e,state:n,relative:s}){rt(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Wn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Ai),{pathname:f}=fs(),m=ia(),p=Jm(r,Zm(u),f,s==="path"),g=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Ys(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:p="/",search:g="",hash:E="",state:R=null,key:S="default"}=n,N=j.useMemo(()=>{let V=rs(p,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:R,key:S},navigationType:s}},[f,p,g,E,R,S,s]);return $n(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(Wn.Provider,{value:m},j.createElement(su.Provider,{children:e,value:N}))}function ES({children:r,location:e}){return aS(wm(r),e)}function wm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,wm(s.props.children,u));return}rt(s.type===Ys,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),n.push(f)}),n}var Xc="get",Wc="application/x-www-form-urlencoded";function Dh(r){return r!=null&&typeof r.tagName=="string"}function TS(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function bS(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function wS(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function AS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function SS(r,e){return r.button===0&&(!e||e==="_self")&&!AS(r)}var Bc=null;function RS(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var xS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(r){return r!=null&&!xS.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):r}function IS(r,e){let n,s,o,u,f;if(bS(r)){let m=r.getAttribute("action");s=m?rs(m,e):null,n=r.getAttribute("method")||Xc,o=om(r.getAttribute("enctype"))||Wc,u=new FormData(r)}else if(TS(r)||wS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?rs(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=om(r.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||Wc,u=new FormData(m,r),!RS()){let{name:g,type:E,value:R}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,R)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,o=Wc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function CS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await CS(u,n);return f.links?f.links():[]}return[]}));return VS(s.flat(1).filter(NS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _v(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var R;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function OS(r,e,{includeHydrateFallback:n}={}){return kS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kS(r){return[...new Set(r)]}function MS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function VS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(MS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function PS(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LS(){let r=j.useContext(To);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function US(){let r=j.useContext(Nh);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=j.createContext(void 0);rp.displayName="FrameworkContext";function lE(){let r=j.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function jS(r,e){let n=j.useContext(rp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:R}=e,S=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=$=>{$.forEach(ne=>{f(ne.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[r]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let N=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Ul(m,N),onBlur:Ul(p,V),onMouseEnter:Ul(g,N),onMouseLeave:Ul(E,V),onTouchStart:Ul(R,N)}]:[!1,S,{}]}function Ul(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function zS({page:r,...e}){let{router:n}=LS(),s=j.useMemo(()=>J0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(qS,{page:r,matches:s,...e}):null}function BS(r){let{manifest:e,routeModules:n}=lE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return DS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function qS({page:r,matches:e,...n}){let s=fs(),{manifest:o,routeModules:u}=lE(),{loaderData:f,matches:m}=US(),p=j.useMemo(()=>_v(r,e,m,o,s,"data"),[r,e,m,o,s]),g=j.useMemo(()=>_v(r,e,m,o,s,"assets"),[r,e,m,o,s]),E=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,V=!1;if(e.forEach(B=>{var ne;let $=o.routes[B.route.id];!$||!$.hasLoader||(!p.some(J=>J.route.id===B.route.id)&&B.route.id in f&&((ne=u[B.route.id])!=null&&ne.shouldRevalidate)||$.hasClientLoader?V=!0:N.add(B.route.id))}),N.size===0)return[];let G=PS(r);return V&&N.size>0&&G.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[G.pathname+G.search]},[f,s,o,p,e,r,u]),R=j.useMemo(()=>OS(g,o),[g,o]),S=BS(g);return j.createElement(j.Fragment,null,E.map(N=>j.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),R.map(N=>j.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),S.map(({key:N,link:V})=>j.createElement("link",{key:N,...V})))}function HS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uE&&(window.__reactRouterVersion="7.2.0")}catch{}function FS({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=OA({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(vS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hE=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:R,...S},N){let{basename:V}=j.useContext(Wn),G=typeof g=="string"&&cE.test(g),B,$=!1;if(typeof g=="string"&&G&&(B=g,uE))try{let w=new URL(window.location.href),I=g.startsWith("//")?new URL(w.protocol+g):new URL(g),k=rs(I.pathname,V);I.origin===w.origin&&k!=null?g=k+I.search+I.hash:$=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=rS(g,{relative:o}),[J,le,se]=jS(s,S),ge=$S(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:R});function O(w){e&&e(w),w.defaultPrevented||ge(w)}let x=j.createElement("a",{...S,...se,href:B||ne,onClick:$||u?e:O,ref:HS(N,le),target:p,"data-discover":!G&&n==="render"?"true":void 0});return J&&!G?j.createElement(j.Fragment,null,x,j.createElement(zS,{page:ne})):x});hE.displayName="Link";var GS=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let R=au(f,{relative:g.relative}),S=fs(),N=j.useContext(Nh),{navigator:V,basename:G}=j.useContext(Wn),B=N!=null&&JS(R)&&m===!0,$=V.encodeLocation?V.encodeLocation(R).pathname:R.pathname,ne=S.pathname,J=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),J=J?J.toLowerCase():null,$=$.toLowerCase()),J&&G&&(J=rs(J,G)||J);const le=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let se=ne===$||!o&&ne.startsWith($)&&ne.charAt(le)==="/",ge=J!=null&&(J===$||!o&&J.startsWith($)&&J.charAt($.length)==="/"),O={isActive:se,isPending:ge,isTransitioning:B},x=se?e:void 0,w;typeof s=="function"?w=s(O):w=[s,se?"active":null,ge?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return j.createElement(hE,{...g,"aria-current":x,className:w,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(O):p)});GS.displayName="NavLink";var KS=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Xc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:R,...S},N)=>{let V=WS(),G=ZS(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&cE.test(m),ne=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let le=J.nativeEvent.submitter,se=(le==null?void 0:le.getAttribute("formmethod"))||f;V(le||J.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:R})};return j.createElement("form",{ref:N,method:B,action:G,onSubmit:s?p:ne,...S,"data-discover":!$&&r==="render"?"true":void 0})});KS.displayName="Form";function QS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(r){let e=j.useContext(To);return rt(e,QS(r)),e}function $S(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ia(),p=fs(),g=au(r,{relative:u});return j.useCallback(E=>{if(SS(E,e)){E.preventDefault();let R=n!==void 0?n:Xl(p)===Xl(g);m(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var YS=0,XS=()=>`__${String(++YS)}__`;function WS(){let{router:r}=fE("useSubmit"),{basename:e}=j.useContext(Wn),n=pS();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=IS(s,e);if(o.navigate===!1){let E=o.fetcherKey||XS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function ZS(r,{relative:e}={}){let{basename:n}=j.useContext(Wn),s=j.useContext(Ai);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...au(r||".",{relative:e})},f=fs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(R=>R).forEach(R=>m.append("index",R));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Xl(u)}function JS(r,e={}){let n=j.useContext(iE);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fE("useViewTransitionState"),o=au(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=rs(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=rs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}new TextEncoder;const eR=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,R=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(S=64)),s.push(n[E],n[R],n[S],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||R==null)throw new nR;const S=u<<2|m>>4;if(s.push(S),g!==64){const N=m<<4&240|g>>2;if(s.push(N),R!==64){const V=g<<6&192|R;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(r){const e=dE(r);return mE.encodeByteArray(e,!0)},uh=function(r){return iR(r).replace(/\./g,"")},pE=function(r){try{return mE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=()=>rR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pE(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return eR()||sR()||aR()||oR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gE=r=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},yE=r=>{const e=gE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_E=()=>{var r;return(r=Oh())===null||r===void 0?void 0:r.config},vE=r=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function cR(){var r;const e=(r=Oh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class Si extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_R,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Si(o,m,s)}}function vR(r,e){return r.replace(ER,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ER=/\{\$([^}]+)}/g;function TR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Ev(u)&&Ev(f)){if(!sr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function bR(r,e){const n=new wR(r,e);return n.subscribe.bind(n)}class wR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r){return r&&r._delegate?r._delegate:r}class ss{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(r){return r===Xs?void 0:r}function xR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const CR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},NR=Me.INFO,DR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},OR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=DR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const kR=(r,e)=>e.some(n=>r instanceof n);let Tv,bv;function MR(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,Am=new WeakMap,bE=new WeakMap,um=new WeakMap,ap=new WeakMap;function PR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TE.set(n,r)}).catch(()=>{}),ap.set(e,r),e}function LR(r){if(Am.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Am.set(r,e)}let Sm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Am.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function UR(r){Sm=r(Sm)}function jR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(cm(this),e,...n);return bE.set(s,e.sort?e.sort():[e]),es(s)}:VR().includes(r)?function(...e){return r.apply(cm(this),e),es(TE.get(this))}:function(...e){return es(r.apply(cm(this),e))}}function zR(r){return typeof r=="function"?jR(r):(r instanceof IDBTransaction&&LR(r),kR(r,MR())?new Proxy(r,Sm):r)}function es(r){if(r instanceof IDBRequest)return PR(r);if(um.has(r))return um.get(r);const e=zR(r);return e!==r&&(um.set(r,e),ap.set(e,r)),e}const cm=r=>ap.get(r);function BR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],hm=new Map;function wv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=HR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return hm.set(e,u),u}UR(r=>({...r,get:(e,n,s)=>wv(e,n)||r.get(e,n,s),has:(e,n)=>!!wv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",Av="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new sp("@firebase/app"),KR="@firebase/app-compat",QR="@firebase/analytics-compat",$R="@firebase/analytics",YR="@firebase/app-check-compat",XR="@firebase/app-check",WR="@firebase/auth",ZR="@firebase/auth-compat",JR="@firebase/database",ex="@firebase/data-connect",tx="@firebase/database-compat",nx="@firebase/functions",ix="@firebase/functions-compat",rx="@firebase/installations",sx="@firebase/installations-compat",ax="@firebase/messaging",ox="@firebase/messaging-compat",lx="@firebase/performance",ux="@firebase/performance-compat",cx="@firebase/remote-config",hx="@firebase/remote-config-compat",fx="@firebase/storage",dx="@firebase/storage-compat",mx="@firebase/firestore",px="@firebase/vertexai",gx="@firebase/firestore-compat",yx="firebase",_x="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",vx={[Rm]:"fire-core",[KR]:"fire-core-compat",[$R]:"fire-analytics",[QR]:"fire-analytics-compat",[XR]:"fire-app-check",[YR]:"fire-app-check-compat",[WR]:"fire-auth",[ZR]:"fire-auth-compat",[JR]:"fire-rtdb",[ex]:"fire-data-connect",[tx]:"fire-rtdb-compat",[nx]:"fire-fn",[ix]:"fire-fn-compat",[rx]:"fire-iid",[sx]:"fire-iid-compat",[ax]:"fire-fcm",[ox]:"fire-fcm-compat",[lx]:"fire-perf",[ux]:"fire-perf-compat",[cx]:"fire-rc",[hx]:"fire-rc-compat",[fx]:"fire-gcs",[dx]:"fire-gcs-compat",[mx]:"fire-fst",[gx]:"fire-fst-compat",[px]:"fire-vertex","fire-js":"fire-js",[yx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,Ex=new Map,Im=new Map;function Sv(r,e){try{r.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Zs(r){const e=r.name;if(Im.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,r);for(const n of ch.values())Sv(n,r);for(const n of Ex.values())Sv(n,r);return!0}function kh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Tn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new ou("app","Firebase",Tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=_x;function wE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=_E()),!n)throw ts.create("no-options");const u=ch.get(o);if(u){if(sr(n,u.options)&&sr(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new IR(o);for(const p of Im.values())f.addComponent(p);const m=new bx(n,s,f);return ch.set(o,m),m}function op(r=xm){const e=ch.get(r);if(!e&&r===xm&&_E())return wE();if(!e)throw ts.create("no-app",{appName:r});return e}function pi(r,e,n){var s;let o=(s=vx[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(m.join(" "));return}Zs(new ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firebase-heartbeat-database",Ax=1,Wl="firebase-heartbeat-store";let fm=null;function AE(){return fm||(fm=BR(wx,Ax,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),fm}async function Sx(r){try{const n=(await AE()).transaction(Wl),s=await n.objectStore(Wl).get(SE(r));return await n.done,s}catch(e){if(e instanceof Si)ar.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function Rv(r,e){try{const s=(await AE()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,SE(r)),await s.done}catch(n){if(n instanceof Si)ar.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(s.message)}}}function SE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1024,xx=30;class Ix{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xx){const f=Dx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ar.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:o}=Cx(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ar.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function Cx(r,e=Rx){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Iv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Nx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Iv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function Dx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(r){Zs(new ss("platform-logger",e=>new FR(e),"PRIVATE")),Zs(new ss("heartbeat",e=>new Ix(e),"PRIVATE")),pi(Rm,Av,r),pi(Rm,Av,"esm2017"),pi("fire-js","")}Ox("");var kx="firebase",Mx="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(kx,Mx,"app");function lp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vx=RE,xE=new ou("auth","Firebase",RE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new sp("@firebase/auth");function Px(r,...e){hh.logLevel<=Me.WARN&&hh.warn(`Auth (${ra}): ${r}`,...e)}function Zc(r,...e){hh.logLevel<=Me.ERROR&&hh.error(`Auth (${ra}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r,...e){throw up(r,...e)}function gi(r,...e){return up(r,...e)}function IE(r,e,n){const s=Object.assign(Object.assign({},Vx()),{[e]:n});return new ou("auth","Firebase",s).create(e,{appName:r.name})}function ir(r){return IE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xE.create(r,...e)}function Ee(r,e,...n){if(!r)throw up(e,...n)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zc(e),new Error(e)}function or(r,e){r||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Lx(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lx()||fR()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return Ux()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new uu(3e4,6e4);function ds(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ms(r,e,n,s,o={}){return NE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=lu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return hR()||(g.referrerPolicy="no-referrer"),CE.fetch()(DE(r,r.config.apiHost,n,m),g)})}async function NE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},zx),e);try{const o=new Hx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw qc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw IE(r,E,g);Yn(r,E)}}catch(o){if(o instanceof Si)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function cu(r,e,n,s,o={}){const u=await ms(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function DE(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?cp(r.config,o):`${r.config.apiScheme}://${o}`}function qx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),Bx.get())})}}function qc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(r,e,s);return o.customData._tokenResponse=n,o}function Nv(r){return r!==void 0&&r.enterprise!==void 0}class Fx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gx(r,e){return ms(r,"GET","/v2/recaptchaConfig",ds(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(r,e){return ms(r,"POST","/v1/accounts:delete",e)}async function OE(r,e){return ms(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qx(r,e=!1){const n=Nt(r),s=await n.getIdToken(e),o=hp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(dm(o.auth_time)),issuedAtTime:Gl(dm(o.iat)),expirationTime:Gl(dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dm(r){return Number(r)*1e3}function hp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=pE(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Dv(r){const e=hp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Si&&$x(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $x({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Zl(r,OE(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?kE(u.providerUserInfo):[],m=Wx(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Nm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,R)}async function Xx(r){const e=Nt(r);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function kE(r){return r.map(e=>{var{providerId:n}=e,s=lp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(r,e){const n=await NE(r,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=DE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",CE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jx(r,e){return ms(r,"POST","/v2/accounts:revokeToken",ds(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Zx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Nm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qx(this,e)}reload(){return Xx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await Zl(this,Kx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:le,isAnonymous:se,providerData:ge,stsTokenManager:O}=n;Ee(J&&O,e,"internal-error");const x=so.fromJSON(this.name,O);Ee(typeof J=="string",e,"internal-error"),$r(R,e.name),$r(S,e.name),Ee(typeof le=="boolean",e,"internal-error"),Ee(typeof se=="boolean",e,"internal-error"),$r(N,e.name),$r(V,e.name),$r(G,e.name),$r(B,e.name),$r($,e.name),$r(ne,e.name);const w=new er({uid:J,auth:e,email:S,emailVerified:le,displayName:R,isAnonymous:se,photoURL:V,phoneNumber:N,tenantId:G,stsTokenManager:x,createdAt:$,lastLoginAt:ne});return ge&&Array.isArray(ge)&&(w.providerData=ge.map(I=>Object.assign({},I))),B&&(w._redirectEventId=B),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;function tr(r){or(r instanceof Function,"Expected a class definition");let e=Ov.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ov.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ME.type="NONE";const kv=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r,e,n){return`firebase:${r}:${e}:${n}`}class ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ao(tr(kv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(kv);const f=Jc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const R=er._fromJSON(e,E);g!==u&&(m=R),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zE(e))return"Blackberry";if(BE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||LE(e))&&!e.includes("edge/"))return"Chrome";if(jE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function VE(r=tn()){return/firefox\//i.test(r)}function PE(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LE(r=tn()){return/crios\//i.test(r)}function UE(r=tn()){return/iemobile/i.test(r)}function jE(r=tn()){return/android/i.test(r)}function zE(r=tn()){return/blackberry/i.test(r)}function BE(r=tn()){return/webos/i.test(r)}function fp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eI(r=tn()){var e;return fp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tI(){return mR()&&document.documentMode===10}function qE(r=tn()){return fp(r)||jE(r)||BE(r)||zE(r)||/windows phone/i.test(r)||UE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r,e=[]){let n;switch(r){case"Browser":n=Mv(tn());break;case"Worker":n=`${Mv(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e={}){return ms(r,"GET","/v2/passwordPolicy",ds(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=6;class sI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:rI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OE(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ir(this));const n=e?Nt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iI(this),n=new sI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Jx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Px(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(r){return Nt(r)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(r){Mh=r}function FE(r){return Mh.loadJS(r)}function lI(){return Mh.recaptchaEnterpriseScript}function uI(){return Mh.gapiScript}function cI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dI="recaptcha-enterprise",GE="NO_RECAPTCHA";class mI{constructor(e){this.type=dI,this.auth=sa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Gx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Fx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Nv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(GE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Nv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lI();p.length!==0&&(p+=m),FE(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Pv(r,e,n,s=!1,o=!1){const u=new mI(r);let f;if(o)f=GE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Pv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Pv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r,e){const n=kh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sr(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function gI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yI(r,e,n){const s=sa(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=KE(e),{host:f,port:m}=_I(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(sr(g,s.config.emulator)&&sr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,vI()}function KE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _I(r){const e=KE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Lv(f)}}}function Lv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function EI(r,e){return ms(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){return cu(r,"POST","/v1/accounts:signInWithPassword",ds(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}async function wI(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",ds(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends dp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,n,"signInWithPassword",TI);case"emailLink":return bI(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,s,"signUpPassword",EI);case"emailLink":return wI(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r,e){return cu(r,"POST","/v1/accounts:signInWithIdp",ds(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class Js extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=lp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RI(r){const e=jl(zl(r)).link,n=e?jl(zl(e)).deep_link_id:null,s=jl(zl(r)).deep_link_id;return(s?jl(zl(s)).link:null)||s||n||e||r}class mp{constructor(e){var n,s,o,u,f,m;const p=jl(zl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,R=SI((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&R,"argument-error"),this.apiKey=g,this.operation=R,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=RI(e);try{return new mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=mp.parseLink(n);return Ee(s,"argument-error"),Jl._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends hu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends hu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends hu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e){return cu(r,"POST","/v1/accounts:signUp",ds(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await er._fromIdTokenResponse(e,s,o),f=Uv(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Uv(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Si{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new dh(e,n,s,o)}}function $E(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,u,e,s):u})}async function II(r,e,n=!1){const s=await Zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,e,n=!1){const{auth:s}=r;if(Tn(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await Zl(r,$E(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=hp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(r,e,n=!1){if(Tn(r.app))return Promise.reject(ir(r));const s="signIn",o=await $E(r,s,e),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function NI(r,e){return YE(sa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(r){const e=sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DI(r,e,n){if(Tn(r.app))return Promise.reject(ir(r));const s=sa(r),f=await Dm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&XE(r),p}),m=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function OI(r,e,n){return Tn(r.app)?Promise.reject(ir(r)):NI(Nt(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XE(r),s})}function kI(r,e,n,s){return Nt(r).onIdTokenChanged(e,n,s)}function MI(r,e,n){return Nt(r).beforeAuthStateChanged(e,n)}function VI(r,e,n,s){return Nt(r).onAuthStateChanged(e,n,s)}function WE(r){return Nt(r).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1e3,LI=10;class JE extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);tI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const UI=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eT.type="SESSION";const tT=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await jI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=pp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(R){const S=R;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function BI(r){yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function qI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function FI(){return nT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firebaseLocalStorageDb",GI=1,ph="firebaseLocalStorage",rT="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,e){return r.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function KI(){const r=indexedDB.deleteDatabase(iT);return new fu(r).toPromise()}function Om(){const r=indexedDB.open(iT,GI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ph,{keyPath:rT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await KI(),e(await Om()))})})}async function jv(r,e,n){const s=Ph(r,!0).put({[rT]:e,value:n});return new fu(s).toPromise()}async function QI(r,e){const n=Ph(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function zv(r,e){const n=Ph(r,!0).delete(e);return new fu(n).toPromise()}const $I=800,YI=3;class sT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>YI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(FI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qI(),!this.activeServiceWorker)return;this.sender=new zI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await jv(e,mh,"1"),await zv(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sT.type="LOCAL";const XI=sT;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r,e){return e?tr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZI(r){return YE(r.auth,new gp(r),r.bypassAuthState)}function JI(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),CI(n,new gp(r),r.bypassAuthState)}async function e1(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),II(n,new gp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZI;case"linkViaPopup":case"linkViaRedirect":return e1;case"reauthViaPopup":case"reauthViaRedirect":return JI;default:Yn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new uu(2e3,1e4);class io extends aT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t1.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="pendingRedirect",eh=new Map;class i1 extends aT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await r1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r1(r,e){const n=o1(e),s=a1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function s1(r,e){eh.set(r._key(),e)}function a1(r){return tr(r._redirectPersistence)}function o1(r){return Jc(n1,r.config.apiKey,r.name)}async function l1(r,e,n=!1){if(Tn(r.app))return Promise.reject(ir(r));const s=sa(r),o=WI(s,e),f=await new i1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=10*60*1e3;class c1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!oT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function oT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,e={}){return ms(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m1=/^https?/;async function p1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await f1(r);for(const n of e)try{if(g1(n))return}catch{}Yn(r,"unauthorized-domain")}function g1(r){const e=Cm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!m1.test(n))return!1;if(d1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new uu(3e4,6e4);function qv(){const r=yi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _1(r){return new Promise((e,n)=>{var s,o,u;function f(){qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qv(),n(gi(r,"network-request-failed"))},timeout:y1.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=cI("iframefcb");return yi()[m]=()=>{gapi.load?f():n(gi(r,"network-request-failed"))},FE(`${uI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw th=null,e})}let th=null;function v1(r){return th=th||_1(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new uu(5e3,15e3),T1="__/auth/iframe",b1="emulator/auth/iframe",w1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S1(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cp(e,b1):`https://${r.config.authDomain}/${T1}`,s={apiKey:e.apiKey,appName:r.name,v:ra},o=A1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${lu(s).slice(1)}`}async function R1(r){const e=await v1(r),n=yi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:S1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gi(r,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},E1.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I1=500,C1=600,N1="_blank",D1="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O1(r,e,n,s=I1,o=C1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},x1),{width:s.toString(),height:o.toString(),top:u,left:f}),g=tn().toLowerCase();n&&(m=LE(g)?N1:n),VE(g)&&(e=e||D1,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[N,V])=>`${S}${N}=${V},`,"");if(eI(g)&&m!=="_self")return k1(e||"",m),new Hv(null);const R=window.open(e||"",m,E);Ee(R,r,"popup-blocked");try{R.focus()}catch{}return new Hv(R)}function k1(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__/auth/handler",V1="emulator/auth/handler",P1=encodeURIComponent("fac");async function Fv(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ra,eventId:o};if(e instanceof QE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",TR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))f[E]=R}if(e instanceof hu){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${P1}=${encodeURIComponent(p)}`:"";return`${L1(r)}?${lu(m).slice(1)}${g}`}function L1({config:r}){return r.emulator?cp(r,V1):`https://${r.authDomain}/${M1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class U1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=l1,this._overrideRedirectResult=s1}async _openPopup(e,n,s,o){var u;or((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Fv(e,n,s,Cm(),o);return O1(e,f,pp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Fv(e,n,s,Cm(),o);return BI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await R1(e),s=new c1(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[mm];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qE()||PE()||fp()}}const j1=U1;var Gv="@firebase/auth",Kv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q1(r){Zs(new ss("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HE(r)},g=new aI(s,o,u,p);return gI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Zs(new ss("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(s=>new z1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(Gv,Kv,B1(r)),pi(Gv,Kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=5*60,F1=vE("authIdTokenMaxAge")||H1;let Qv=null;const G1=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>F1)return;const o=n==null?void 0:n.token;Qv!==o&&(Qv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function K1(r=op()){const e=kh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=pI(r,{popupRedirectResolver:j1,persistence:[XI,UI,tT]}),s=vE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=G1(u.toString());MI(n,f,()=>f(n.currentUser)),kI(n,m=>f(m))}}const o=gE("auth");return o&&yI(n,`http://${o}`),n}function Q1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}oI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Q1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q1("Browser");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,lT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function w(){}w.prototype=x.prototype,O.D=x.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,k,U){for(var D=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)D[Ze-2]=arguments[Ze];return x.prototype[k].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,w){w||(w=0);var I=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)I[k]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(k=0;16>k;++k)I[k]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=O.g[0],w=O.g[1],k=O.g[2];var U=O.g[3],D=x+(U^w&(k^U))+I[0]+3614090360&4294967295;x=w+(D<<7&4294967295|D>>>25),D=U+(k^x&(w^k))+I[1]+3905402710&4294967295,U=x+(D<<12&4294967295|D>>>20),D=k+(w^U&(x^w))+I[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=w+(x^k&(U^x))+I[3]+3250441966&4294967295,w=k+(D<<22&4294967295|D>>>10),D=x+(U^w&(k^U))+I[4]+4118548399&4294967295,x=w+(D<<7&4294967295|D>>>25),D=U+(k^x&(w^k))+I[5]+1200080426&4294967295,U=x+(D<<12&4294967295|D>>>20),D=k+(w^U&(x^w))+I[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=w+(x^k&(U^x))+I[7]+4249261313&4294967295,w=k+(D<<22&4294967295|D>>>10),D=x+(U^w&(k^U))+I[8]+1770035416&4294967295,x=w+(D<<7&4294967295|D>>>25),D=U+(k^x&(w^k))+I[9]+2336552879&4294967295,U=x+(D<<12&4294967295|D>>>20),D=k+(w^U&(x^w))+I[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=w+(x^k&(U^x))+I[11]+2304563134&4294967295,w=k+(D<<22&4294967295|D>>>10),D=x+(U^w&(k^U))+I[12]+1804603682&4294967295,x=w+(D<<7&4294967295|D>>>25),D=U+(k^x&(w^k))+I[13]+4254626195&4294967295,U=x+(D<<12&4294967295|D>>>20),D=k+(w^U&(x^w))+I[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=w+(x^k&(U^x))+I[15]+1236535329&4294967295,w=k+(D<<22&4294967295|D>>>10),D=x+(k^U&(w^k))+I[1]+4129170786&4294967295,x=w+(D<<5&4294967295|D>>>27),D=U+(w^k&(x^w))+I[6]+3225465664&4294967295,U=x+(D<<9&4294967295|D>>>23),D=k+(x^w&(U^x))+I[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=w+(U^x&(k^U))+I[0]+3921069994&4294967295,w=k+(D<<20&4294967295|D>>>12),D=x+(k^U&(w^k))+I[5]+3593408605&4294967295,x=w+(D<<5&4294967295|D>>>27),D=U+(w^k&(x^w))+I[10]+38016083&4294967295,U=x+(D<<9&4294967295|D>>>23),D=k+(x^w&(U^x))+I[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=w+(U^x&(k^U))+I[4]+3889429448&4294967295,w=k+(D<<20&4294967295|D>>>12),D=x+(k^U&(w^k))+I[9]+568446438&4294967295,x=w+(D<<5&4294967295|D>>>27),D=U+(w^k&(x^w))+I[14]+3275163606&4294967295,U=x+(D<<9&4294967295|D>>>23),D=k+(x^w&(U^x))+I[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=w+(U^x&(k^U))+I[8]+1163531501&4294967295,w=k+(D<<20&4294967295|D>>>12),D=x+(k^U&(w^k))+I[13]+2850285829&4294967295,x=w+(D<<5&4294967295|D>>>27),D=U+(w^k&(x^w))+I[2]+4243563512&4294967295,U=x+(D<<9&4294967295|D>>>23),D=k+(x^w&(U^x))+I[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=w+(U^x&(k^U))+I[12]+2368359562&4294967295,w=k+(D<<20&4294967295|D>>>12),D=x+(w^k^U)+I[5]+4294588738&4294967295,x=w+(D<<4&4294967295|D>>>28),D=U+(x^w^k)+I[8]+2272392833&4294967295,U=x+(D<<11&4294967295|D>>>21),D=k+(U^x^w)+I[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=w+(k^U^x)+I[14]+4259657740&4294967295,w=k+(D<<23&4294967295|D>>>9),D=x+(w^k^U)+I[1]+2763975236&4294967295,x=w+(D<<4&4294967295|D>>>28),D=U+(x^w^k)+I[4]+1272893353&4294967295,U=x+(D<<11&4294967295|D>>>21),D=k+(U^x^w)+I[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=w+(k^U^x)+I[10]+3200236656&4294967295,w=k+(D<<23&4294967295|D>>>9),D=x+(w^k^U)+I[13]+681279174&4294967295,x=w+(D<<4&4294967295|D>>>28),D=U+(x^w^k)+I[0]+3936430074&4294967295,U=x+(D<<11&4294967295|D>>>21),D=k+(U^x^w)+I[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=w+(k^U^x)+I[6]+76029189&4294967295,w=k+(D<<23&4294967295|D>>>9),D=x+(w^k^U)+I[9]+3654602809&4294967295,x=w+(D<<4&4294967295|D>>>28),D=U+(x^w^k)+I[12]+3873151461&4294967295,U=x+(D<<11&4294967295|D>>>21),D=k+(U^x^w)+I[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=w+(k^U^x)+I[2]+3299628645&4294967295,w=k+(D<<23&4294967295|D>>>9),D=x+(k^(w|~U))+I[0]+4096336452&4294967295,x=w+(D<<6&4294967295|D>>>26),D=U+(w^(x|~k))+I[7]+1126891415&4294967295,U=x+(D<<10&4294967295|D>>>22),D=k+(x^(U|~w))+I[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=w+(U^(k|~x))+I[5]+4237533241&4294967295,w=k+(D<<21&4294967295|D>>>11),D=x+(k^(w|~U))+I[12]+1700485571&4294967295,x=w+(D<<6&4294967295|D>>>26),D=U+(w^(x|~k))+I[3]+2399980690&4294967295,U=x+(D<<10&4294967295|D>>>22),D=k+(x^(U|~w))+I[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=w+(U^(k|~x))+I[1]+2240044497&4294967295,w=k+(D<<21&4294967295|D>>>11),D=x+(k^(w|~U))+I[8]+1873313359&4294967295,x=w+(D<<6&4294967295|D>>>26),D=U+(w^(x|~k))+I[15]+4264355552&4294967295,U=x+(D<<10&4294967295|D>>>22),D=k+(x^(U|~w))+I[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=w+(U^(k|~x))+I[13]+1309151649&4294967295,w=k+(D<<21&4294967295|D>>>11),D=x+(k^(w|~U))+I[4]+4149444226&4294967295,x=w+(D<<6&4294967295|D>>>26),D=U+(w^(x|~k))+I[11]+3174756917&4294967295,U=x+(D<<10&4294967295|D>>>22),D=k+(x^(U|~w))+I[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=w+(U^(k|~x))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var w=x-this.blockSize,I=this.B,k=this.h,U=0;U<x;){if(k==0)for(;U<=w;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<x;)if(I[k++]=O.charCodeAt(U++),k==this.blockSize){o(this,I),k=0;break}}else for(;U<x;)if(I[k++]=O[U++],k==this.blockSize){o(this,I),k=0;break}}this.h=k,this.o+=x},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var w=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=w&255,w/=256;for(this.u(O),O=Array(16),x=w=0;4>x;++x)for(var I=0;32>I;I+=8)O[w++]=this.g[x]>>>I&255;return O};function u(O,x){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=x(O)}function f(O,x){this.h=x;for(var w=[],I=!0,k=O.length-1;0<=k;k--){var U=O[k]|0;I&&U==x||(w[k]=U,I=!1)}this.g=w}var m={};function p(O){return-128<=O&&128>O?u(O,function(x){return new f([x|0],0>x?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return B(g(-O));for(var x=[],w=1,I=0;O>=w;I++)x[I]=O/w|0,w*=4294967296;return new f(x,0)}function E(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return B(E(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(x,8)),I=R,k=0;k<O.length;k+=8){var U=Math.min(8,O.length-k),D=parseInt(O.substring(k,k+U),x);8>U?(U=g(Math.pow(x,U)),I=I.j(U).add(g(D))):(I=I.j(w),I=I.add(g(D)))}return I}var R=p(0),S=p(1),N=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-B(this).m();for(var O=0,x=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*x,x*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(G(this))return"-"+B(this).toString(O);for(var x=g(Math.pow(O,6)),w=this,I="";;){var k=le(w,x).g;w=$(w,k.j(x));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=k,V(w))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=$(this,O),G(O)?-1:V(O)?0:1};function B(O){for(var x=O.g.length,w=[],I=0;I<x;I++)w[I]=~O.g[I];return new f(w,~O.h).add(S)}r.abs=function(){return G(this)?B(this):this},r.add=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],I=0,k=0;k<=x;k++){var U=I+(this.i(k)&65535)+(O.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);I=D>>>16,U&=65535,D&=65535,w[k]=D<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function $(O,x){return O.add(B(x))}r.j=function(O){if(V(this)||V(O))return R;if(G(this))return G(O)?B(this).j(B(O)):B(B(this).j(O));if(G(O))return B(this.j(B(O)));if(0>this.l(N)&&0>O.l(N))return g(this.m()*O.m());for(var x=this.g.length+O.g.length,w=[],I=0;I<2*x;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<O.g.length;k++){var U=this.i(I)>>>16,D=this.i(I)&65535,Ze=O.i(k)>>>16,nt=O.i(k)&65535;w[2*I+2*k]+=D*nt,ne(w,2*I+2*k),w[2*I+2*k+1]+=U*nt,ne(w,2*I+2*k+1),w[2*I+2*k+1]+=D*Ze,ne(w,2*I+2*k+1),w[2*I+2*k+2]+=U*Ze,ne(w,2*I+2*k+2)}for(I=0;I<x;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=x;I<2*x;I++)w[I]=0;return new f(w,0)};function ne(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function J(O,x){this.g=O,this.h=x}function le(O,x){if(V(x))throw Error("division by zero");if(V(O))return new J(R,R);if(G(O))return x=le(B(O),x),new J(B(x.g),B(x.h));if(G(x))return x=le(O,B(x)),new J(B(x.g),x.h);if(30<O.g.length){if(G(O)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var w=S,I=x;0>=I.l(O);)w=se(w),I=se(I);var k=ge(w,1),U=ge(I,1);for(I=ge(I,2),w=ge(w,2);!V(I);){var D=U.add(I);0>=D.l(O)&&(k=k.add(w),U=D),I=ge(I,1),w=ge(w,1)}return x=$(O,k.j(x)),new J(k,x)}for(k=R;0<=O.l(x);){for(w=Math.max(1,Math.floor(O.m()/x.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=g(w),D=U.j(x);G(D)||0<D.l(O);)w-=I,U=g(w),D=U.j(x);V(U)&&(U=S),k=k.add(U),O=$(O,D)}return new J(k,O)}r.A=function(O){return le(this,O).h},r.and=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],I=0;I<x;I++)w[I]=this.i(I)&O.i(I);return new f(w,this.h&O.h)},r.or=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],I=0;I<x;I++)w[I]=this.i(I)|O.i(I);return new f(w,this.h|O.h)},r.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),w=[],I=0;I<x;I++)w[I]=this.i(I)^O.i(I);return new f(w,this.h^O.h)};function se(O){for(var x=O.g.length+1,w=[],I=0;I<x;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new f(w,O.h)}function ge(O,x){var w=x>>5;x%=32;for(var I=O.g.length-w,k=[],U=0;U<I;U++)k[U]=0<x?O.i(U+w)>>>x|O.i(U+w+1)<<32-x:O.i(U+w);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ns=f}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,Bl,cT,nh,km,hT,fT,dT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in _))break e;_=_[q]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,q={next:function(){if(!A&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function R(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,S.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,q,K){for(var ie=Array(arguments.length-2),je=2;je<arguments.length;je++)ie[je-2]=arguments[je];return y.prototype[q].apply(A,ie)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const q=c.length||0,K=A.length||0;c.length=q+K;for(let ie=0;ie<K;ie++)c[q+ie]=A[ie]}else c.push(A)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var se=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ge(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function x(c){const y={};for(const _ in c)y[_]=c[_];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)c[_]=A[_];for(let K=0;K<w.length;K++)_=w[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ze{constructor(){this.h=this.g=null}add(y,_){const A=nt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var nt=new $(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,me=!1,He=new Ze,M=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=nt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function xe(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{le(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}V(xe,ae);var Re={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ue(c,y,_,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=q,this.key=++be,this.da=this.fa=!1}function Oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dt(c){this.src=c,this.g={},this.h=0}dt.prototype.add=function(c,y,_,A,q){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ie=wn(c,y,A,q);return-1<ie?(y=c[ie],_||(y.fa=!1)):(y=new Ue(y,this.src,K,!!A,q),y.fa=_,c.push(y)),y};function zt(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],q=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=q)&&Array.prototype.splice.call(A,q,1),K&&(Oe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function wn(c,y,_,A){for(var q=0;q<c.length;++q){var K=c[q];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==A)return q}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),fr={};function xi(c,y,_,A,q){if(Array.isArray(y)){for(var K=0;K<y.length;K++)xi(c,y[K],_,A,q);return null}return _=Eu(_),c&&c[Ie]?c.K(y,_,g(A)?!!A.capture:!1,q):No(c,y,_,!1,A,q)}function No(c,y,_,A,q,K){if(!y)throw Error("Invalid event type");var ie=g(q)?!!q.capture:!!q,je=Do(c);if(je||(c[hr]=je=new dt(c)),_=je.add(y,_,A,ie,K),_.proxy)return _;if(A=ua(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)oe||(q=ie),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(ha(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ua(){function c(_){return y.call(c.src,c.listener,_)}const y=tf;return c}function ca(c,y,_,A,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)ca(c,y[K],_,A,q);else A=g(A)?!!A.capture:!!A,_=Eu(_),c&&c[Ie]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=wn(K,_,A,q),-1<_&&(Oe(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Do(c))&&(y=c.g[y.toString()],c=-1,y&&(c=wn(y,_,A,q)),(_=-1<c?y[c]:null)&&ys(_))}function ys(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ie])zt(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ha(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Do(y))?(zt(_,c),_.h==0&&(_.src=null,y[hr]=null)):Oe(c)}}}function ha(c){return c in fr?fr[c]:fr[c]="on"+c}function tf(c,y){if(c.da)c=!0;else{y=new xe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ys(c),c=_.call(A,y)}return c}function Do(c){return c=c[hr],c instanceof dt?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(c){return typeof c=="function"?c:(c[un]||(c[un]=function(y){return c.handleEvent(y)}),c[un])}function bt(){fe.call(this),this.i=new dt(this),this.M=this,this.F=null}V(bt,fe),bt.prototype[Ie]=!0,bt.prototype.removeEventListener=function(c,y,_,A){ca(this,c,y,_,A)};function Dt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var q=y;y=new ae(A,c),I(y,q)}if(q=!0,_)for(var K=_.length-1;0<=K;K--){var ie=y.g=_[K];q=Ii(ie,A,!0,y)&&q}if(ie=y.g=c,q=Ii(ie,A,!0,y)&&q,q=Ii(ie,A,!1,y)&&q,_)for(K=0;K<_.length;K++)ie=y.g=_[K],q=Ii(ie,A,!1,y)&&q}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Oe(_[A]);delete c.g[y],c.h--}}this.F=null},bt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},bt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Ii(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,K=0;K<y.length;++K){var ie=y[K];if(ie&&!ie.da&&ie.capture==_){var je=ie.listener,At=ie.ha||ie.src;ie.fa&&zt(c.i,ie),q=je.call(At,A)!==!1&&q}}return q&&!A.defaultPrevented}function Tu(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Oo(c){c.g=Tu(()=>{c.g=null,c.i&&(c.i=!1,Oo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nf extends fe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){fe.call(this),this.h=c,this.g={}}V(_s,fe);var dr=[];function Yt(c){ge(c.g,function(y,_){this.g.hasOwnProperty(_)&&ys(y)},c),c.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Yt(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=m.JSON.stringify,Zn=m.JSON.parse,nn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function bu(c){return c.h||(c.h=c.i())}function wu(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ae.call(this,"d")}V(mr,ae);function zn(){ae.call(this,"c")}V(zn,ae);var An={},pr=null;function fa(){return pr=pr||new bt}An.La="serverreachability";function Vo(c){ae.call(this,An.La,c)}V(Vo,ae);function gr(c){const y=fa();Dt(y,new Vo(y))}An.STAT_EVENT="statevent";function da(c,y){ae.call(this,An.STAT_EVENT,c),this.stat=y}V(da,ae);function mt(c){const y=fa();Dt(y,new da(y,c))}An.Ma="timingevent";function Au(c,y){ae.call(this,An.Ma,c),this.size=y}V(Au,ae);function yr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Su(c,y,_,A,q,K){c.info(function(){if(c.g)if(K)for(var ie="",je=K.split("&"),At=0;At<je.length;At++){var ze=je[At].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var St=Mt.split("_");ie=2<=St.length&&St[1]=="type"?ie+(Mt+"="+ze+"&"):ie+(Mt+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+_+`
`+ie})}function Ru(c,y,_,A,q,K,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+_+`
`+K+" "+ie})}function vr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ot(c,_)+(A?" "+A:"")})}function ei(c,y){c.info(function(){return"TIMEOUT: "+y})}_r.prototype.info=function(){};function Ot(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<q.length;ie++)q[ie]=""}}}}return ko(_)}catch{return y}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vs;function ma(){}V(ma,Mo),ma.prototype.g=function(){return new XMLHttpRequest},ma.prototype.i=function(){return{}},vs=new ma;function ti(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Po}function Po(){this.i=null,this.g="",this.h=!1}var Er={},Es={};function Bn(c,y,_){c.L=1,c.v=ws(ut(y)),c.m=_,c.P=!0,Ni(c,null)}function Ni(c,y){c.F=Date.now(),st(c),c.A=ut(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),ki(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Po,c.g=zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new nf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(dr[0]=q.toString()),q=dr);for(var K=0;K<q.length;K++){var ie=xi(_,q[K],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),gr(),Su(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const St=Cn(this.g);var y=this.g.Ba();const Li=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||St!=4||y==7||(y==8||0>=Li?gr(3):gr(2)),pa(this);var _=this.g.Z();this.X=_;t:if(Tr(this)){var A=Ou(this.g);c="";var q=A.length,K=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),mn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==q-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Ru(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,At=this.g;if((je=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(je)){var ze=je;break t}}ze=null}if(_=ze)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,_);else{this.o=!1,this.s=3,mt(12),cn(this),mn(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<ie.length;)if(Bt=br(this,ie),Bt==Es){St==4&&(this.s=4,mt(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Er){this.s=4,mt(15),vr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,Bt,null),pn(this,Bt);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,mt(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,ie,"[Invalid Chunked Response]"),cn(this),mn(this);else if(0<ie.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ns(Mt),Mt.M=!0,mt(11))}}else vr(this.i,this.l,ie,null),pn(this,ie);St==4&&cn(this),this.o&&!this.J&&(St==4?Lu(this.j,this):(this.o=!1,st(this)))}else uf(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),cn(this),mn(this)}}}catch{}finally{}};function Tr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function br(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Es:(_=Number(y.substring(_,A)),isNaN(_)?Er:(A+=1,A+_>y.length?Es:(y=y.slice(A,A+_),c.C=A+_,y)))}ti.prototype.cancel=function(){this.J=!0,cn(this)};function st(c){c.S=Date.now()+c.I,Lo(c,c.I)}function Lo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yr(S(c.ba,c),y)}function pa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ei(this.i,this.A),this.L!=2&&(gr(),mt(17)),cn(this),this.s=2,mn(this)):Lo(this,this.S-c)};function mn(c){c.j.G==0||c.J||Lu(c.j,c)}function cn(c){pa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function pn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||wr(_.h,c))){if(!c.K&&wr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),wa(_);else break e;$o(_),mt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=yr(S(_.Za,_),6e3));if(1>=xu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pi(_,11)}else if((c.K||_.g==c)&&Sa(_),!ne(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let ze=q[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Mt=ze[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const St=ze[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Li=ze[5];Li!=null&&typeof Li=="number"&&0<Li&&(A=1.5*Li,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Bt=c.g;if(Bt){const li=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var K=A.h;K.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ar(K,K.h),K.h=null))}if(A.D){const Xo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(A.ya=Xo,Fe(A.I,A.D,Xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=c;if(A.qa=ju(A,A.J?A.ia:null,A.W),ie.K){Sn(A.h,ie);var je=ie,At=A.L;At&&(je.I=At),je.B&&(pa(je),st(je)),A.g=ie}else Vu(A);0<_.i.length&&Aa(_)}else ze[0]!="stop"&&ze[0]!="close"||Pi(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Pi(_,7):Ko(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}gr(4)}catch{}}var rf=class{constructor(c,y){this.g=c,this.map=y}};function Uo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xu(c){return c.h?1:c.g?c.g.size:0}function wr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ar(c,y){c.g?c.g.add(y):c.h=y}function Sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Uo.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Iu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function sf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Ts(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=sf(c),A=Iu(c),q=A.length,K=0;K<q;K++)y.call(void 0,A[K],_&&_[K],c)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),q=null;if(0<=A){var K=c[_].substring(0,A);q=c[_].substring(A+1)}else K=c[_];y(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Di){this.h=c.h,Sr(this,c.j),this.o=c.o,this.g=c.g,bs(this,c.s),this.l=c.l;var y=c.i,_=new ni;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ya(this,_),this.m=c.m}else c&&(y=String(c).match(zo))?(this.h=!1,Sr(this,y[1]||"",!0),this.o=Rr(y[2]||""),this.g=Rr(y[3]||"",!0),bs(this,y[4]),this.l=Rr(y[5]||"",!0),ya(this,y[6]||"",!0),this.m=Rr(y[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}Di.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Rn(y,Bo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rn(y,Bo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Rn(_,_.charAt(0)=="/"?qo:Cu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Rn(_,lf)),c.join("")};function ut(c){return new Di(c)}function Sr(c,y,_){c.j=_?Rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function bs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ya(c,y,_){y instanceof ni?(c.i=y,Ho(c.i,c.h)):(_||(y=Rn(y,of)),c.i=new ni(y,c.h))}function Fe(c,y,_){c.i.set(y,_)}function ws(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,af),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function af(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,Cu=/[#\?:]/g,qo=/[#\?]/g,of=/[#\?@]/g,lf=/#/g;function ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ni.prototype,r.add=function(c,y){xn(this),this.i=null,c=Mi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function _a(c,y){xn(c),y=Mi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oi(c,y){return xn(c),y=Mi(c,y),c.g.has(y)}r.forEach=function(c,y){xn(this),this.g.forEach(function(_,A){_.forEach(function(q){c.call(y,q,A,this)},this)},this)},r.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const q=c[A];for(let K=0;K<q.length;K++)_.push(y[A])}return _},r.V=function(c){xn(this);let y=[];if(typeof c=="string")Oi(this,c)&&(y=y.concat(this.g.get(Mi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return xn(this),this.i=null,c=Mi(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ki(c,y,_){_a(c,y),0<_.length&&(c.i=null,c.g.set(Mi(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const K=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var q=K;ie[A]!==""&&(q+="="+encodeURIComponent(String(ie[A]))),c.push(q)}}return this.i=c.join("&")};function Mi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ho(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(_a(this,A),ki(this,q,_))},c)),c.j=y}function Nu(c,y){const _=new _r;if(m.Image){const A=new Image;A.onload=N(In,_,"TestLoadImage: loaded",!0,y,A),A.onerror=N(In,_,"TestLoadImage: error",!1,y,A),A.onabort=N(In,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=N(In,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function As(c,y){const _=new _r,A=new AbortController,q=setTimeout(()=>{A.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(q),K.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),In(_,"TestPingServer: error",!1,y)})}function In(c,y,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function Ss(){this.g=new nn}function ii(c,y,_){const A=_||"";try{Ts(c,function(q,K){let ie=q;g(q)&&(ie=ko(q)),y.push(A+K+"="+encodeURIComponent(ie))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(xr,Mo),xr.prototype.g=function(){return new Vi(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Vi(c,y){bt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Vi,bt),r=Vi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ri(this):si(this),this.readyState==3&&Fo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},r.Qa=function(c){this.g&&(this.response=c,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return ge(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function kt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Go(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Fe(c,y,_))}function Qe(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Qe,bt);var va=/^https?$/i,Rs=["POST","PUT"];r=Qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vs.g(),this.v=this.o?bu(this.o):bu(vs),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Du(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of _)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Du(this,K)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ea(c),ai(c)}function Ea(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},r.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Tu(c.Ea,0,c);else if(Dt(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ie===0){var q=String(c.D).match(zo)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),A=!va.test(q?q.toLowerCase():"")}_=A}if(_)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var K=2<Cn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Ea(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){xs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Dt(c,"ready");try{_.onreadystatechange=A}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zn(y)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var _=k(c[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[q]||[];y[q]=K,K.push(_)}O(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ba(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,c),this.cb=Is("retryDelaySeedMs",1e4,c),this.Wa=Is("forwardChannelMaxRetries",2,c),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ba.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){mt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=ju(this,null,this.W),Aa(this)};function Ko(c){if(ku(c),c.G==3){var y=c.U++,_=ut(c.I);if(Fe(_,"SID",c.K),Fe(_,"RID",y),Fe(_,"TYPE","terminate"),Cs(c,_),y=new ti(c,c.j,y),y.L=2,y.v=ws(ut(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),st(y)}Uu(c)}function wa(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function ku(c){wa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Aa(c){if(!jo(c.h)&&!c.s){c.s=!0;var y=c.Ga;_e||M(),me||(_e(),me=!0),He.add(y,c),c.B=0}}function cf(c,y){return xu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yr(S(c.Ga,c,y),Yo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new ti(this,this.j,c);let K=this.o;if(this.S&&(K?(K=x(K),I(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Mu(this,q,y),_=ut(this.I),Fe(_,"RID",c),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),Cs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Go(K)))+"&"+y:this.m&&kt(_,this.m,K)),Ar(this.h,q),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",y),Fe(_,"SID","null"),q.T=!0,Bn(q,_,null)):Bn(q,_,y),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||jo(this.h)||Qo(this))};function Qo(c,y){var _;y?_=y.l:_=c.U++;const A=ut(c.I);Fe(A,"SID",c.K),Fe(A,"RID",_),Fe(A,"AID",c.T),Cs(c,A),c.m&&c.o&&kt(A,c.m,c.o),_=new ti(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Mu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ar(c.h,_),Bn(_,A,y)}function Cs(c,y){c.H&&ge(c.H,function(_,A){Fe(y,A,_)}),c.l&&Ts({},function(_,A){Fe(y,A,_)})}function Mu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var q=c.i;let K=-1;for(;;){const ie=["count="+_];K==-1?0<_?(K=q[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let je=!0;for(let At=0;At<_;At++){let ze=q[At].g;const Mt=q[At].map;if(ze-=K,0>ze)K=Math.max(0,q[At].g-100),je=!1;else try{ii(Mt,ie,"req"+ze+"_")}catch{A&&A(Mt)}}if(je){A=ie.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Vu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_e||M(),me||(_e(),me=!0),He.add(y,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yr(S(c.Fa,c),Yo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yr(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),wa(this),Pu(this))};function Ns(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ut(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),Cs(c,y),c.m&&c.o&&kt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ws(ut(y)),_.m=null,_.P=!0,Ni(_,c)}r.Za=function(){this.C!=null&&(this.C=null,wa(this),$o(this),mt(19))};function Sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var _=null;if(c.g==y){Sa(c),Ns(c),c.g=null;var A=2}else if(wr(c.h,y))_=y.D,Sn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;A=fa(),Dt(A,new Au(A,_)),Aa(c)}else Vu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&cf(c,y)||A==2&&$o(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Yo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),A=c.Xa;const q=!A;A=new Di(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Sr(A,"https"),ws(A),q?Nu(A.toString(),_):As(A.toString(),_)}else mt(2);c.G=0,c.l&&c.l.sa(y),Uu(c),ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=rn(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function ju(c,y,_){var A=_ instanceof Di?ut(_):new Di(_);if(A.g!="")y&&(A.g=y+"."+A.g),bs(A,A.s);else{var q=m.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var K=new Di(null);A&&Sr(K,A),y&&(K.g=y),q&&bs(K,q),_&&(K.l=_),A=K}return _=c.D,y=c.ya,_&&y&&Fe(A,_,y),Fe(A,"VER",c.la),Cs(c,A),A}function zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new xr({eb:_})):new Qe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ra(){}Ra.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){bt.call(this),this.g=new ba(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new oi(this)}V(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ko(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ko(c),c=_);y.i.push(new rf(y.Ya++,c)),y.G==3&&Aa(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,sn.aa.N.call(this)};function qu(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(qu,mr);function Hu(){zn.call(this),this.status=1}V(Hu,zn);function oi(c){this.g=c}V(oi,Bu),oi.prototype.ua=function(){Dt(this.g,"a")},oi.prototype.ta=function(c){Dt(this.g,new qu(c))},oi.prototype.sa=function(c){Dt(this.g,new Hu)},oi.prototype.ra=function(){Dt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,dT=function(){return new Ra},fT=function(){return fa()},hT=An,km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,nh=wt,Ci.COMPLETE="complete",cT=Ci,wu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Bl=wu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,uT=Qe}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore",Xv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new sp("@firebase/firestore");function Ja(){return ta.logLevel}function ue(r,...e){if(ta.logLevel<=Me.DEBUG){const n=e.map(yp);ta.debug(`Firestore (${Ao}): ${r}`,...n)}}function lr(r,...e){if(ta.logLevel<=Me.ERROR){const n=e.map(yp);ta.error(`Firestore (${Ao}): ${r}`,...n)}}function uo(r,...e){if(ta.logLevel<=Me.WARN){const n=e.map(yp);ta.warn(`Firestore (${Ao}): ${r}`,...n)}}function yp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+r;throw lr(e),new Error(e)}function $e(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class Y1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X1{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new mT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Jt(e)}}class W1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Z1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new W1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new Wv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function co(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-62135596800,Jv=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Jv);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zv)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new It(0,0))}static max(){return new we(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="__name__";class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class it extends mi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const tC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends mi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return tC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e0}static keyField(){return new Qt([e0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function nC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new as(o,ye.empty(),e)}function iC(r){return new as(r.readTime,r.key,eu)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(we.min(),ye.empty(),eu)}static max(){return new as(we.max(),ye.empty(),eu)}}function rC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==sC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function oC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function Uh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function lC(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function uC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=t0(e)),e=cC(r.get(n),e);return t0(e)}function cC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case gT:n+="";break;default:n+=u}}return n}function t0(r){return r+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function yT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(e){return new i0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class i0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Ct(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _T("Invalid base64 string: "+u):u}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const hC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if($e(!!r),typeof r=="string"){let e=0;const n=hC.exec(r);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="server_timestamp",ET="__type__",TT="__previous_value__",bT="__local_write_time__";function vp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ET])===null||n===void 0?void 0:n.stringValue)===vT}function jh(r){const e=r.mapValue.fields[TT];return vp(e)?jh(e):e}function tu(r){const e=os(r.mapValue.fields[bT].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const yh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__type__",dC="__max__",Gc={mapValue:{}},AT="__vector__",_h="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:pC(r)?9007199254740991:mC(r)?10:11:Te()}function Ti(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tu(r).isEqual(tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(n0(f)!==n0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ti(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function iu(r,e){return(r.values||[]).find(n=>Ti(n,e))!==void 0}function ho(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return r0(r.timestampValue,e.timestampValue);case 4:return r0(tu(r),tu(e));case 5:return Le(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Le(m[g],p[g]);if(E!==0)return E}return Le(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Le(gt(u.latitude),gt(f.latitude));return m!==0?m:Le(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return s0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const R=u.fields||{},S=f.fields||{},N=(m=R[_h])===null||m===void 0?void 0:m.arrayValue,V=(p=S[_h])===null||p===void 0?void 0:p.arrayValue,G=Le(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:s0(N,V)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let R=0;R<p.length&&R<E.length;++R){const S=Le(p[R],E[R]);if(S!==0)return S;const N=ho(m[p[R]],g[E[R]]);if(N!==0)return N}return Le(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function r0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=os(r),s=os(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function s0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function fo(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ls(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function ih(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ih(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ps(s.fields,(u,f)=>{o+=u.length+ih(f)}),o}(r.mapValue);default:throw Te()}}function a0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vm(r){return!!r&&"integerValue"in r}function Ep(r){return!!r&&"arrayValue"in r}function o0(r){return!!r&&"nullValue"in r}function l0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function mC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[wT])===null||n===void 0?void 0:n.stringValue)===AT}function Kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Kl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function pC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ps(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new dn(Kl(this.value))}}function ST(r){const e=[];return ps(r.fields,(n,s)=>{const o=new Qt([n]);if(rh(s)){const u=ST(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function u0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=ho(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function c0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ti(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function gC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class Tt extends RT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _C(e,n,s):n==="array-contains"?new TC(e,s):n==="in"?new bC(e,s):n==="not-in"?new wC(e,s):n==="array-contains-any"?new AC(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vC(e,s):new EC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Xn(e,n)}matches(e){return xT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xT(r){return r.op==="and"}function IT(r){return yC(r)&&xT(r)}function yC(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function Pm(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(IT(r))return r.filters.map(e=>Pm(e)).join(",");{const e=r.filters.map(n=>Pm(n)).join(",");return`${r.op}(${e})`}}function CT(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&CT(f,o.filters[m]),!0):!1}(r,e):void Te()}function NT(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(r):r instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"}(r):"Filter"}class _C extends Tt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class vC extends Tt{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EC extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class TC extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ep(n)&&iu(n.arrayValue,this.value)}}class bC extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class wC extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class AC extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>iu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function h0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new SC(r,e,n,s,o,u,f)}function Tp(r){const e=Se(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Pm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fo(s)).join(",")),e.le=n}return e.le}function bp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!CT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!c0(r.startAt,e.startAt)&&c0(r.endAt,e.endAt)}function Lm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function RC(r,e,n,s,o,u,f,m){return new du(r,e,n,s,o,u,f,m)}function wp(r){return new du(r)}function f0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OT(r){return r.collectionGroup!==null}function Ql(r){const e=Se(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Eh(u,s))}),n.has(Qt.keyField().canonicalString())||e.he.push(new Eh(Qt.keyField(),s))}return e.he}function _i(r){const e=Se(r);return e.Pe||(e.Pe=xC(e,Ql(r))),e.Pe}function xC(r,e){if(r.limitType==="F")return h0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)});const n=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return h0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Um(r,e){const n=r.filters.concat([e]);return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zh(r,e){return bp(_i(r),_i(e))&&r.limitType===e.limitType}function kT(r){return`${Tp(_i(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>NT(o)).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>fo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>fo(o)).join(",")),`Target(${s})`}(_i(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=u0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,p){const g=u0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(r,e)}function IC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function MT(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const u=CC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ho(p,g):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new lt(ye.comparator);function ur(){return NC}const VT=new lt(ye.comparator);function ql(...r){let e=VT;for(const n of r)e=e.insert(n.key,n);return e}function PT(r){let e=VT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ws(){return $l()}function LT(){return $l()}function $l(){return new aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const DC=new lt(ye.comparator),OC=new Ct(ye.comparator);function Ve(...r){let e=OC;for(const n of r)e=e.add(n);return e}const kC=new Ct(Le);function MC(){return kC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function UT(r){return{integerValue:""+r}}function VC(r,e){return lC(e)?UT(e):Ap(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function PC(r,e,n){return r instanceof Th?function(o,u){const f={fields:{[ET]:{stringValue:vT},[bT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=jh(u)),u&&(f.fields[TT]=u),{mapValue:f}}(n,e):r instanceof mo?zT(r,e):r instanceof po?BT(r,e):function(o,u){const f=jT(o,u),m=d0(f)+d0(o.Ie);return Vm(f)&&Vm(o.Ie)?UT(m):Ap(o.serializer,m)}(r,e)}function LC(r,e,n){return r instanceof mo?zT(r,e):r instanceof po?BT(r,e):n}function jT(r,e){return r instanceof bh?function(s){return Vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Th extends qh{}class mo extends qh{constructor(e){super(),this.elements=e}}function zT(r,e){const n=qT(e);for(const s of r.elements)n.some(o=>Ti(o,s))||n.push(s);return{arrayValue:{values:n}}}class po extends qh{constructor(e){super(),this.elements=e}}function BT(r,e){let n=qT(e);for(const s of r.elements)n=n.filter(o=>!Ti(o,s));return{arrayValue:{values:n}}}class bh extends qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function d0(r){return gt(r.integerValue||r.doubleValue)}function qT(r){return Ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.field=e,this.transform=n}}function UC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof mo&&o instanceof mo||s instanceof po&&o instanceof po?co(s.elements,o.elements,Ti):s instanceof bh&&o instanceof bh?Ti(s.Ie,o.Ie):s instanceof Th&&o instanceof Th}(r.transform,e.transform)}class jC{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function FT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sp(r.key,Qn.none()):new mu(r.key,r.data,Qn.none());{const n=r.data,s=dn.empty();let o=new Ct(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new gs(r.key,s,new bn(o.toArray()),Qn.none())}}function zC(r,e,n){r instanceof mu?function(o,u,f){const m=o.value.clone(),p=p0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof gs?function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=p0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(GT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yl(r,e,n,s){return r instanceof mu?function(u,f,m,p){if(!sh(u.precondition,f))return m;const g=u.value.clone(),E=g0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof gs?function(u,f,m,p){if(!sh(u.precondition,f))return m;const g=g0(u.fieldTransforms,p,f),E=f.data;return E.setAll(GT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,e,n,s):function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function BC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=jT(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function m0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,(u,f)=>UC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function GT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function p0(r,e,n){const s=new Map;$e(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,LC(f,m,n[o]))}return s}function g0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,PC(u,f,e))}return s}class Sp extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qC extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=LT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=FT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,s)=>m0(n,s))&&co(this.baseMutations,e.baseMutations,(n,s)=>m0(n,s))}}class Rp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length);let o=function(){return DC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Rp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,qe;function KC(r){switch(r){case Z.OK:return Te();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te()}}function KT(r){if(r===void 0)return lr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Et.OK:return Z.OK;case Et.CANCELLED:return Z.CANCELLED;case Et.UNKNOWN:return Z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Z.INTERNAL;case Et.UNAVAILABLE:return Z.UNAVAILABLE;case Et.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Et.NOT_FOUND:return Z.NOT_FOUND;case Et.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Et.ABORTED:return Z.ABORTED;case Et.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Et.DATA_LOSS:return Z.DATA_LOSS;default:return Te()}}(qe=Et||(Et={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new ns([4294967295,4294967295],0);function y0(r){const e=QC().encode(r),n=new lT;return n.update(e),new Uint8Array(n.digest())}function _0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ns.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare($C)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=y0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=y0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(we.min(),o,new lt(Le),ur(),Ve())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class QT{constructor(e,n){this.targetId=e,this.ge=n}}class $T{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class v0{constructor(){this.pe=0,this.ye=E0(),this.we=$t.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new pu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=E0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class YC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ur(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new lt(Le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Lm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,en.newNoDocument(f,we.min()))}else $e(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof _T)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new xp(f,o,u)}catch(p){return uo(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Lm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,en.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Fh(e,n,this.Ue,this.Qe,s);return this.Qe=ur(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new lt(Le),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new v0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ct(Le),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ct(Le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new v0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new lt(ye.comparator)}function E0(){return new lt(ye.comparator)}const XC={asc:"ASCENDING",desc:"DESCENDING"},WC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZC={and:"AND",or:"OR"};class JC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eN(r,e){return wh(r,e.toTimestamp())}function vi(r){return $e(!!r),we.fromTimestamp(function(n){const s=os(n);return new It(s.seconds,s.nanos)}(r))}function Ip(r,e){return Bm(r,e).canonicalString()}function Bm(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function XT(r){const e=it.fromString(r);return $e(tb(e)),e}function qm(r,e){return Ip(r.databaseId,e.path)}function pm(r,e){const n=XT(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(ZT(n))}function WT(r,e){return Ip(r.databaseId,e)}function tN(r){const e=XT(r);return e.length===4?it.emptyPath():ZT(e)}function Hm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZT(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function T0(r,e,n){return{name:qm(r,e),fields:n.value.mapValue.fields}}function nN(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string"),$t.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),$t.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?Z.UNKNOWN:KT(g.code);return new ce(E,g.message||"")}(f);n=new $T(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pm(r,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):we.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pm(r,s.document),u=s.readTime?vi(s.readTime):we.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pm(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new GC(o,u),m=s.targetId;n=new QT(m,f)}}return n}function iN(r,e){let n;if(e instanceof mu)n={update:T0(r,e.key,e.value)};else if(e instanceof Sp)n={delete:qm(r,e.key)};else if(e instanceof gs)n={update:T0(r,e.key,e.data),updateMask:fN(e.fieldMask)};else{if(!(e instanceof qC))return Te();n={verify:qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof po)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:eN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function rN(r,e){return r&&r.length>0?($e(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(we.min())&&(f=vi(u)),new jC(f,o.transformResults||[])}(n,e))):[]}function sN(r,e){return{documents:[WT(r,e.path)]}}function aN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WT(r,o);const u=function(g){if(g.length!==0)return eb(Xn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:to(S.field),direction:uN(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function oN(r){let e=tN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(R){const S=JT(R);return S instanceof Xn&&IT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(S=>function(V){return new Eh(no(V.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(R){let S;return S=typeof R=="object"?R.value:R,Uh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(R){const S=!!R.before,N=R.values||[];return new vh(N,S)}(n.startAt));let g=null;return n.endAt&&(g=function(R){const S=!R.before,N=R.values||[];return new vh(N,S)}(n.endAt)),RC(e,o,f,u,m,"F",p,g)}function lN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>JT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function uN(r){return XC[r]}function cN(r){return WC[r]}function hN(r){return ZC[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Qt.fromServerFormat(r.fieldPath)}function eb(r){return r instanceof Tt?function(n){if(n.op==="=="){if(l0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:cN(n.op),value:n.value}}}(r):r instanceof Xn?function(n){const s=n.getFilters().map(o=>eb(o));return s.length===1?s[0]:{compositeFilter:{op:hN(n.op),filters:s}}}(r):Te()}function fN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.Tt=e}}function mN(r){const e=oN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.Tn=new gN}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(as.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class gN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(nb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new go(0)}static Un(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LruGarbageCollector",yN=1048576;function A0([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class _N{constructor(e){this.Hn=e,this.buffer=new Ct(A0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();A0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(w0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?ue(w0,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.er(3e5)})}}class EN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Lh.ae);const s=new _N(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(b0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(g=Date.now(),Ja()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${R} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}function TN(r,e){return new EN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Yl(s.mutation,o,bn.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Ws();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ur();const f=$l(),m=function(){return $l()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof gs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Yl(E.mutation,g,E.mutation.getFieldMask(),It.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var R;return m.set(g,new wN(E,(R=f.get(g))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=$l();let o=new lt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const R=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,R)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,R=LT();E.forEach(S=>{if(!u.has(S)){const N=FT(n.get(S),s.get(S));N!==null&&R.set(S,N),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,R))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Ws());let m=eu,p=u;return f.next(g=>W.forEach(g,(E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:PT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const g=function(R,S){return new du(S,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((R,S)=>{f=f.insert(R,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))});let m=ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Yl(E.mutation,g,bn.empty(),It.now()),Bh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:mN(o.bundledQuery),readTime:vi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new lt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Ws(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ws(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ws(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new FC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Vr=new Ct(Ut.mr),this.gr=new Ct(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new it([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new it([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Le(e.Cr,n.Cr)}static pr(e,n){return Le(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(Ut.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new HC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?_p:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Le);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let m=new Ct(Le);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.kr=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||rC(iC(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new NN(this)}getSize(e){return W.resolve(this.size)}}class NN extends bN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.persistence=e,this.Qr=new aa(n=>Tp(n),bp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Cp,this.targetCount=0,this.Ur=go.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new go(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Lh(0),this.zr=!1,this.zr=!0,this.jr=new xN,this.referenceDelegate=e(this),this.Hr=new DN(this),this.indexManager=new pN,this.remoteDocumentCache=function(o){return new CN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new dN(n),this.Yr=new SN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new IN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new ON(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class ON extends aC{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.ti=new Cp,this.ni=null}static ri(e){return new Np(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.oi=new aa(s=>uC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TN(this,n)}static ri(e,n){return new Ah(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pR()?8:oC(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new kN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ja()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ja()<=Me.DEBUG&&ue("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ja()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):W.resolve())}rs(e,n){if(f0(n))return W.resolve(null);let s=_i(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,jm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return f0(n)||o.isEqual(we.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(Ja()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.hs(e,f,n,nC(o,eu)).next(m=>m))})}cs(e,n){let s=new Ct(MT(e));return n.forEach((o,u)=>{Bh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ja()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ns.getDocumentsMatchingQuery(e,n,as.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",VN=3e8;class PN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new lt(Le),this.Is=new aa(u=>Tp(u),bp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function LN(r,e,n,s){return new PN(r,e,n,s)}async function rb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function UN(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const R=g.batch,S=R.keys();let N=W.resolve();return S.forEach(V=>{N=N.next(()=>E.getEntry(p,V)).next(G=>{const B=g.docVersions.get(V);$e(B!==null),G.version.compareTo(B)<0&&(R.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function sb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function jN(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,R)=>{const S=o.get(R);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,R)));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?N=N.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(R,N),function(G,B,$){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=VN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,N,E)&&m.push(n.Hr.updateTargetData(u,N))});let p=ur(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(zN(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(R=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function zN(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ur();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Op,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function BN(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qN(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Fm(r,e,n){const s=Se(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ro(f))throw f;ue(Op,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function S0(r,e,n){const s=Se(r);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const R=Se(p),S=R.Is.get(E);return S!==void 0?W.resolve(R.Ts.get(S)):R.Hr.getTargetData(g,E)}(s,f,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve())).next(m=>(HN(s,IC(e),m),{documents:m,gs:u})))}function HN(r,e,n){let s=r.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class R0{constructor(){this.activeTargetIds=MC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FN{constructor(){this.ho=new R0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new R0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class I0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(x0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Gm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="RestConnection",KN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Gm(),m=this.So(e,n.toUriEncodedString());ue(gm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(gm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw uo(gm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=KN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class YN extends QN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Gm();return new Promise((f,m)=>{const p=new uT;p.setWithCredentials(!0),p.listenOnce(cT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const E=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case nh.TIMEOUT:ue(Zt,`RPC '${e}' ${u} timed out`),m(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const R=p.getStatus();if(ue(Zt,`RPC '${e}' ${u} failed with status:`,R,"response text:",p.getResponseText()),R>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const V=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf($)>=0?$:Z.UNKNOWN}(N.status);m(new ce(V,N.message))}else m(new ce(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Zt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Gm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=dT(),m=fT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const R=f.createWebChannel(E,p);let S=!1,N=!1;const V=new $N({Fo:B=>{N?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(S||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),S=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,B),R.send(B))},Mo:()=>R.close()}),G=(B,$,ne)=>{B.listen($,J=>{try{ne(J)}catch(le){setTimeout(()=>{throw le},0)}})};return G(R,Bl.EventType.OPEN,()=>{N||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),G(R,Bl.EventType.CLOSE,()=>{N||(N=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),V.Ko())}),G(R,Bl.EventType.ERROR,B=>{N||(N=!0,uo(Zt,`RPC '${e}' stream ${o} transport errored:`,B),V.Ko(new ce(Z.UNAVAILABLE,"The operation could not be completed")))}),G(R,Bl.EventType.MESSAGE,B=>{var $;if(!N){const ne=B.data[0];$e(!!ne);const J=ne,le=(J==null?void 0:J.error)||(($=J[0])===null||$===void 0?void 0:$.error);if(le){ue(Zt,`RPC '${e}' stream ${o} received error:`,le);const se=le.status;let ge=function(w){const I=Et[w];if(I!==void 0)return KT(I)}(se),O=le.message;ge===void 0&&(ge=Z.INTERNAL,O="Unknown error status: "+se+" with message "+le.message),N=!0,V.Ko(new ce(ge,O)),R.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,ne),V.Uo(ne)}}),G(m,hT.STAT_EVENT,B=>{B.stat===km.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===km.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r){return new JC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class ob{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ab(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(C0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XN extends ob{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=nN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?vi(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Hm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Lm(p)?{documents:sN(u,p)}:{query:aN(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=YT(u,f.resumeToken);const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=lN(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.I_(n)}}class WN extends ob{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=rN(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Hm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>iN(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{}class JN extends ZN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Bm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Bm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(Z.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class eD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(lr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class tD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{oa(this)&&(ue(na,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await gu(g),g.j_.set("Unknown"),g.W_.delete(4),await Kh(g)}(this))})}),this.j_=new eD(s,o)}}async function Kh(r){if(oa(r))for(const e of r.G_)await e(!0)}async function gu(r){for(const e of r.G_)await e(!1)}function lb(r,e){const n=Se(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Pp(n)?Vp(n):xo(n).c_()&&Mp(n,e))}function kp(r,e){const n=Se(r),s=xo(n);n.U_.delete(e),s.c_()&&ub(n,e),n.U_.size===0&&(s.c_()?s.P_():oa(n)&&n.j_.set("Unknown"))}function Mp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(r).y_(e)}function ub(r,e){r.H_.Ne(e),xo(r).w_(e)}function Vp(r){r.H_=new YC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.j_.B_()}function Pp(r){return oa(r)&&!xo(r).u_()&&r.U_.size>0}function oa(r){return Se(r).W_.size===0}function cb(r){r.H_=void 0}async function nD(r){r.j_.set("Online")}async function iD(r){r.U_.forEach((e,n)=>{Mp(r,e)})}async function rD(r,e){cb(r),Pp(r)?(r.j_.q_(e),Vp(r)):r.j_.set("Unknown")}async function sD(r,e,n){if(r.j_.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof ah?r.H_.We(e):e instanceof QT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(we.min()))try{const s=await sb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),ub(u,p);const R=new Jr(E.target,p,g,E.sequenceNumber);Mp(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(na,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!Ro(e))throw e;r.W_.add(1),await gu(r),r.j_.set("Offline"),n||(n=()=>sb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(na,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Kh(r)})}function hb(r,e){return e().catch(n=>Sh(r,n,e))}async function Qh(r){const e=Se(r),n=cs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:_p;for(;aD(e);)try{const o=await BN(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,oD(e,o)}catch(o){await Sh(e,o)}fb(e)&&db(e)}function aD(r){return oa(r)&&r.K_.length<10}function oD(r,e){r.K_.push(e);const n=cs(r);n.c_()&&n.b_&&n.S_(e.mutations)}function fb(r){return oa(r)&&!cs(r).u_()&&r.K_.length>0}function db(r){cs(r).start()}async function lD(r){cs(r).C_()}async function uD(r){const e=cs(r);for(const n of r.K_)e.S_(n.mutations)}async function cD(r,e,n){const s=r.K_.shift(),o=Rp.from(s,e,n);await hb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qh(r)}async function hD(r,e){e&&cs(r).b_&&await async function(s,o){if(function(f){return KC(f)&&f!==Z.ABORTED}(o.code)){const u=s.K_.shift();cs(s).h_(),await hb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qh(s)}}(r,e),fb(r)&&db(r)}async function N0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(na,"RemoteStore received new credentials");const s=oa(n);n.W_.add(3),await gu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Kh(n)}async function fD(r,e){const n=Se(r);e?(n.W_.delete(2),await Kh(n)):e||(n.W_.add(2),await gu(n),n.j_.set("Unknown"))}function xo(r){return r.J_||(r.J_=function(n,s,o){const u=Se(n);return u.M_(),new XN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:nD.bind(null,r),No:iD.bind(null,r),Lo:rD.bind(null,r),p_:sD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Pp(r)?Vp(r):r.j_.set("Unknown")):(await r.J_.stop(),cb(r))})),r.J_}function cs(r){return r.Y_||(r.Y_=function(n,s,o){const u=Se(n);return u.M_(),new WN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:lD.bind(null,r),Lo:hD.bind(null,r),D_:uD.bind(null,r),v_:cD.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Qh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(na,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Lp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Ro(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.Z_=new lt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class yo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new yo(e,n,lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class mD{constructor(){this.queries=O0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=O0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function O0(){return new aa(r=>kT(r),zh)}async function mb(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new dD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Up(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&jp(n)}async function pb(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pD(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&jp(n)}function gD(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function jp(r){r.ia.forEach(e=>{e.next()})}var Km,k0;(k0=Km||(Km={}))._a="default",k0.Cache="cache";class gb{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.key=e}}class _b{constructor(e){this.key=e}}class yD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=MT(e),this.wa=new lo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new D0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,R)=>{const S=o.get(E),N=Bh(this.query,R)?R:null,V=!!S&&this.mutatedKeys.has(S.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;S&&N?S.data.isEqual(N.data)?V!==G&&(s.track({type:3,doc:N}),B=!0):this.va(S,N)||(s.track({type:2,doc:N}),B=!0,(p&&this.ya(N,p)>0||g&&this.ya(N,g)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),B=!0):S&&!N&&(s.track({type:1,doc:S}),B=!0,(p||g)&&(m=!0)),B&&(N?(f=f.add(N),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,R)=>function(N,V){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return G(N)-G(V)}(E.type,R.type)||this.ya(E.doc,R.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new yo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new D0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new _b(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new yb(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zp="SyncEngine";class _D{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vD{constructor(e){this.key=e,this.Ba=!1}}class ED{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new aa(m=>kT(m),zh),this.qa=new Map,this.Qa=new Set,this.$a=new lt(ye.comparator),this.Ka=new Map,this.Ua=new Cp,this.Wa={},this.Ga=new Map,this.za=go.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function TD(r,e,n=!0){const s=Ab(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await vb(s,e,n,!0),o}async function bD(r,e){const n=Ab(r);await vb(n,e,!0,!1)}async function vb(r,e,n,s){const o=await qN(r.localStore,_i(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await wD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&lb(r.remoteStore,o),m}async function wD(r,e,n,s,o){r.Ha=(R,S,N)=>async function(G,B,$,ne){let J=B.view.Sa($);J.ls&&(J=await S0(G.localStore,B.query,!1).then(({documents:O})=>B.view.Sa(O,J)));const le=ne&&ne.targetChanges.get(B.targetId),se=ne&&ne.targetMismatches.get(B.targetId)!=null,ge=B.view.applyChanges(J,G.isPrimaryClient,le,se);return V0(G,B.targetId,ge.Ma),ge.snapshot}(r,R,S,N);const u=await S0(r.localStore,e,!0),f=new yD(e,u.gs),m=f.Sa(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);V0(r,n,g.Ma);const E=new _D(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function AD(r,e,n){const s=Se(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!zh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&kp(s.remoteStore,o.targetId),Qm(s,o.targetId)}).catch(So)):(Qm(s,o.targetId),await Fm(s.localStore,o.targetId,!0))}async function SD(r,e){const n=Se(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kp(n.remoteStore,s.targetId))}async function RD(r,e,n){const s=kD(r);try{const o=await function(f,m){const p=Se(f),g=It.now(),E=m.reduce((N,V)=>N.add(V.key),Ve());let R,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let V=ur(),G=Ve();return p.ds.getEntries(N,E).next(B=>{V=B,V.forEach(($,ne)=>{ne.isValidDocument()||(G=G.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,V)).next(B=>{R=B;const $=[];for(const ne of m){const J=BC(ne,R.get(ne.key).overlayedDocument);J!=null&&$.push(new gs(ne.key,J,ST(J.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,$,m)}).next(B=>{S=B;const $=B.applyToLocalDocumentSet(R,G);return p.documentOverlayCache.saveOverlays(N,B.batchId,$)})}).then(()=>({batchId:S.batchId,changes:PT(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new lt(Le)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await yu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");n.reject(u)}}async function Eb(r,e){const n=Se(r);try{const s=await jN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await yu(n,s,e)}catch(s){await So(s)}}function M0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,R)=>{for(const S of R.ta)S.sa(m)&&(g=!0)}),g&&jp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xD(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new lt(ye.comparator);f=f.insert(u,en.newNoDocument(u,we.min()));const m=Ve().add(u),p=new Fh(we.min(),new Map,new lt(Le),f,m);await Eb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Bp(s)}else await Fm(s.localStore,e,!1).then(()=>Qm(s,e,n)).catch(So)}async function ID(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await UN(n.localStore,e);bb(n,s,null),Tb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await So(o)}}async function CD(r,e,n){const s=Se(r);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(R=>($e(R!==null),E=R.keys(),p.mutationQueue.removeMutationBatch(g,R))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);bb(s,e,n),Tb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await So(o)}}function Tb(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function bb(r,e,n){const s=Se(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||wb(r,s)})}function wb(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(kp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Bp(r))}function V0(r,e,n){for(const s of n)s instanceof yb?(r.Ua.addReference(s.key,e),ND(r,s)):s instanceof _b?(ue(zp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||wb(r,s.key)):Te()}function ND(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(zp,"New document in limbo: "+n),r.Qa.add(s),Bp(r))}function Bp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(it.fromString(e)),s=r.za.next();r.Ka.set(s,new vD(n)),r.$a=r.$a.insert(n,s),lb(r.remoteStore,new Jr(_i(wp(n.path)),s,"TargetPurposeLimboResolution",Lh.ae))}}async function yu(r,e,n){const s=Se(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const R=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(g){o.push(g);const R=Dp.Yi(p.targetId,g);u.push(R)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(g,S=>W.forEach(S.Hi,N=>E.persistence.referenceDelegate.addReference(R,S.targetId,N)).next(()=>W.forEach(S.Ji,N=>E.persistence.referenceDelegate.removeReference(R,S.targetId,N)))))}catch(R){if(!Ro(R))throw R;ue(Op,"Failed to update sequence numbers: "+R)}for(const R of g){const S=R.targetId;if(!R.fromCache){const N=E.Ts.get(S),V=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(S,G)}}}(s.localStore,u))}async function DD(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(zp,"User change. New user:",e.toKey());const s=await rb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(Z.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Rs)}}function OD(r,e){const n=Se(r),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function Ab(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.La.p_=pD.bind(null,e.eventManager),e.La.Ja=gD.bind(null,e.eventManager),e}function kD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return LN(this.persistence,new MN,e.initialUser,this.serializer)}Xa(e){return new ib(Np.ri,this.serializer)}Za(e){return new FN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class MD extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof Ah);const s=this.persistence.referenceDelegate.garbageCollector;return new vN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ib(s=>Ah.ri(s,n),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await fD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mD}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=function(u){return new YN(u)}(e.databaseInfo);return function(u,f,m,p){return new JN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new tD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>M0(this.syncEngine,n,0),function(){return I0.D()?new I0:new GN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const R=new ED(o,u,f,m,p,g);return E&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ue(na,"RemoteStore shutting down."),u.W_.add(5),await gu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class VD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=pT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Up(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _m(r,e){r.asyncQueue.verifyOperationInProgress(),ue(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await rb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function P0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await PD(r);ue(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>N0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>N0(e.remoteStore,o)),r._onlineComponents=e}async function PD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(hs,"Using user provided OfflineComponentProvider");try{await _m(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await _m(r,new Rh)}}else ue(hs,"Using default OfflineComponentProvider"),await _m(r,new MD(void 0));return r._offlineComponents}async function Rb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(hs,"Using user provided OnlineComponentProvider"),await P0(r,r._uninitializedComponentsProvider._online)):(ue(hs,"Using default OnlineComponentProvider"),await P0(r,new $m))),r._onlineComponents}function LD(r){return Rb(r).then(e=>e.syncEngine)}async function xb(r){const e=await Rb(r),n=e.eventManager;return n.onListen=TD.bind(null,e.syncEngine),n.onUnlisten=AD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SD.bind(null,e.syncEngine),n}function UD(r,e,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Sb({next:S=>{E.su(),f.enqueueAndForget(()=>pb(u,R));const N=S.docs.has(m);!N&&S.fromCache?g.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),R=new gb(wp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return mb(u,R)}(await xb(r),r.asyncQueue,e,n,s)),s.promise}function jD(r,e,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Sb({next:S=>{E.su(),f.enqueueAndForget(()=>pb(u,R)),S.fromCache&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),R=new gb(m,E,{includeMetadataChanges:!0,Ta:!0});return mb(u,R)}(await xb(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zD(r,e,n,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function U0(r){if(!ye.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function j0(r){if(ye.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function bi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firestore.googleapis.com",z0=!0;class B0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nb,this.ssl=z0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:z0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yN)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ib((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $1;switch(s.type){case"firstParty":return new Z1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=L0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),L0.delete(n),s.terminate())}(this),Promise.resolve()}}function BD(r,e,n,s={}){var o;const u=(r=bi(r,Yh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Nb&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!sr(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Jt.MOCK_USER;else{g=EE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(R)}r._authCredentials=new Y1(new mT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class is extends Io{constructor(e,n,s){super(e,n,wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ye(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function qD(r,e,...n){if(r=Nt(r),Cb("collection","path",e),r instanceof Yh){const s=it.fromString(e,...n);return j0(s),new is(r,null,s)}{if(!(r instanceof ln||r instanceof is))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return j0(s),new is(r.firestore,null,s)}}function Kt(r,e,...n){if(r=Nt(r),arguments.length===1&&(e=pT.newId()),Cb("doc","path",e),r instanceof Yh){const s=it.fromString(e,...n);return U0(s),new ln(r,null,new ye(s))}{if(!(r instanceof ln||r instanceof is))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return U0(s),new ln(r.firestore,r instanceof is?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ab(this,"async_queue_retry"),this.bu=()=>{const s=ym();s&&ue(q0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new rr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ro(e))throw e;ue(q0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw lr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Lp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Co extends Yh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new H0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function HD(r,e){const n=typeof r=="object"?r:op(),s=typeof r=="string"?r:yh,o=kh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=yE("firestore");u&&BD(o,...u)}return o}function qp(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FD(r),r._firestoreClient}function FD(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new fC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Ib(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new VD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o($t.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^__.*__$/;class KD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class Db{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ob(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Wh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ob(this.Lu)&&GD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class QD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}ju(e,n,s,o=!1){return new Wh({Lu:e,methodName:n,zu:s,path:Qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gp(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new QD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $D(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);$p("Data must be an object, but it was:",f,s);const m=Mb(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const S=Ym(e,R,n);if(!f.contains(S))throw new ce(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Pb(E,S)||E.push(S)}p=new bn(E),g=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,g=f.fieldTransforms;return new KD(new dn(m),p,g)}class Zh extends _u{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function kb(r,e,n){return new Wh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kp extends _u{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=kb(this,e,!0),s=this.Hu.map(u=>la(u,n)),o=new mo(s);return new HT(e.path,o)}isEqual(e){return e instanceof Kp&&sr(this.Hu,e.Hu)}}class Qp extends _u{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=kb(this,e,!0),s=this.Hu.map(u=>la(u,n)),o=new po(s);return new HT(e.path,o)}isEqual(e){return e instanceof Qp&&sr(this.Hu,e.Hu)}}function YD(r,e,n,s){const o=r.ju(1,e,n);$p("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ps(s,(p,g)=>{const E=Yp(e,p,n);g=Nt(g);const R=o.Ku(E);if(g instanceof Zh)u.push(E);else{const S=la(g,R);S!=null&&(u.push(E),f.set(E,S))}});const m=new bn(u);return new Db(f,m,o.fieldTransforms)}function XD(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Ym(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Ym(e,u[S])),p.push(u[S+1]);const g=[],E=dn.empty();for(let S=m.length-1;S>=0;--S)if(!Pb(g,m[S])){const N=m[S];let V=p[S];V=Nt(V);const G=f.Ku(N);if(V instanceof Zh)g.push(N);else{const B=la(V,G);B!=null&&(g.push(N),E.set(N,B))}}const R=new bn(g);return new Db(E,R,f.fieldTransforms)}function WD(r,e,n,s=!1){return la(n,r.ju(s?4:3,e))}function la(r,e){if(Vb(r=Nt(r)))return $p("Unsupported field value:",e,r),Mb(r,e);if(r instanceof _u)return function(s,o){if(!Ob(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=la(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Hp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:YT(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ip(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fp)return function(f,m){return{mapValue:{fields:{[wT]:{stringValue:AT},[_h]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ap(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${$h(s)}`)}(r,e)}function Mb(r,e){const n={};return yT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,(s,o)=>{const u=la(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Vb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof Hp||r instanceof _o||r instanceof ln||r instanceof _u||r instanceof Fp)}function $p(r,e,n){if(!Vb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=$h(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Ym(r,e,n){if((e=Nt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Yp(r,e);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ZD=new RegExp("[~\\*/\\[\\]]");function Yp(r,e,n){if(e.search(ZD)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(Z.INVALID_ARGUMENT,m+r+p)}function Pb(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ub("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JD extends Lb{data(){return super.data()}}function Ub(r,e){return typeof e=="string"?Yp(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class t2 extends Xp{}function n2(r,e,...n){let s=[];e instanceof Xp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Zp).length,m=u.filter(p=>p instanceof Wp).length;if(f>1||f>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Wp extends t2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Wp(e,n,s)}_apply(e){const n=this._parse(e);return jb(e._query,n),new Io(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Gp(e.firestore);return function(u,f,m,p,g,E,R){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){G0(R,E);const V=[];for(const G of R)V.push(F0(p,u,G));S={arrayValue:{values:V}}}else S=F0(p,u,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||G0(R,E),S=WD(m,f,R,E==="in"||E==="not-in");return Tt.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Zp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)jb(f,p),f=Um(f,p)}(e._query,n),new Io(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function F0(r,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a0(r,new ye(s))}if(n instanceof ln)return a0(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function G0(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class i2{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ps(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[_h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new Fp(u)}convertGeoPoint(e){return new Hp(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=os(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);$e(tb(s));const o=new nu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zb extends Lb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ub("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class oh extends zb{data(e={}){return super.data(e)}}class s2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:a2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function a2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(r){r=bi(r,ln);const e=bi(r.firestore,Co);return UD(qp(e),r._key).then(n=>u2(e,r,n))}class Bb extends i2{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function o2(r){r=bi(r,Io);const e=bi(r.firestore,Co),n=qp(e),s=new Bb(e);return e2(r._query),jD(n,r._query).then(o=>new s2(e,s,r,o))}function qb(r,e,n){r=bi(r,ln);const s=bi(r.firestore,Co),o=r2(r.converter,e);return Jp(s,[$D(Gp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qn.none())])}function ro(r,e,n,...s){r=bi(r,ln);const o=bi(r.firestore,Co),u=Gp(o);let f;return f=typeof(e=Nt(e))=="string"||e instanceof Xh?XD(u,"updateDoc",r._key,e,n,s):YD(u,"updateDoc",r._key,e),Jp(o,[f.toMutation(r._key,Qn.exists(!0))])}function l2(r){return Jp(bi(r.firestore,Co),[new Sp(r._key,Qn.none())])}function Jp(r,e){return function(s,o){const u=new rr;return s.asyncQueue.enqueueAndForget(async()=>RD(await LD(s),o,u)),u.promise}(qp(r),e)}function u2(r,e,n){const s=n.docs.get(e._key),o=new Bb(r);return new zb(r,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}function K0(...r){return new Kp("arrayUnion",r)}function vm(...r){return new Qp("arrayRemove",r)}(function(e,n=!0){(function(o){Ao=o})(ra),Zs(new ss("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Co(new X1(s.getProvider("auth-internal")),new J1(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),pi(Yv,Xv,e),pi(Yv,Xv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebasestorage.googleapis.com",c2="storageBucket",h2=2*60*1e3,f2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Si{constructor(e,n,s=0){super(Em(e),`Firebase Storage: ${n} (${Em(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ri.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wi||(wi={}));function Em(r){return"storage/"+r}function d2(){const r="An unknown error occurred, please check the error payload for server response.";return new Ri(wi.UNKNOWN,r)}function m2(){return new Ri(wi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p2(){return new Ri(wi.CANCELED,"User canceled the upload/download.")}function g2(r){return new Ri(wi.INVALID_URL,"Invalid URL '"+r+"'.")}function y2(r){return new Ri(wi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Q0(r){return new Ri(wi.INVALID_ARGUMENT,r)}function Fb(){return new Ri(wi.APP_DELETED,"The Firebase app was deleted.")}function _2(r){return new Ri(wi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(s.path==="")return s;throw y2(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const E="v[A-Za-z0-9_]+",R=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${R}/${E}/b/${o}/o${S}`,"i"),V={bucket:1,path:3},G=n===Hb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",$=new RegExp(`^https?://${G}/${o}/${B}`,"i"),J=[{regex:m,indices:p,postModify:u},{regex:N,indices:V,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<J.length;le++){const se=J[le],ge=se.regex.exec(e);if(ge){const O=ge[se.indices.bucket];let x=ge[se.indices.path];x||(x=""),s=new Kn(O,x),se.postModify(s);break}}if(s==null)throw g2(e);return s}}class v2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...B){g||(g=!0,e.apply(null,B))}function R(B){o=setTimeout(()=>{o=null,r(N,p())},B)}function S(){u&&clearTimeout(u)}function N(B,...$){if(g){S();return}if(B){S(),E.call(null,B,...$);return}if(p()||f){S(),E.call(null,B,...$);return}s<64&&(s*=2);let J;m===1?(m=2,J=0):J=(s+Math.random())*1e3,R(J)}let V=!1;function G(B){V||(V=!0,S(),!g&&(o!==null?(B||(m=2),clearTimeout(o),R(0)):B||(m=1)))}return R(0),u=setTimeout(()=>{f=!0,G(!0)},n),G}function T2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(r){return r!==void 0}function $0(r,e,n,s){if(s<e)throw Q0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Q0(`Invalid value for '${r}'. Expected ${n} or less.`)}function w2(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ih;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ih||(Ih={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,s,o,u,f,m,p,g,E,R,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=R,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,V)=>{this.resolve_=N,this.reject_=V,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new $c(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Ih.NO_ERROR,p=u.getStatus();if(!m||A2(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Ih.ABORT;s(!1,new $c(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new $c(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());b2(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=d2();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?Fb():p2();f(p)}else{const p=m2();f(p)}};this.canceled_?n(!1,new $c(!1,null,!0)):this.backoffId_=E2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&T2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $c{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function R2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function x2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function I2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function C2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function N2(r,e,n,s,o,u,f=!0){const m=w2(r.urlParams),p=r.url+m,g=Object.assign({},r.headers);return I2(g,e),R2(g,n),x2(g,u),C2(g,s),new S2(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function O2(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ch(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return O2(this._location.path)}get storage(){return this._service}get parent(){const e=D2(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new Ch(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _2(e)}}function Y0(r,e){const n=e==null?void 0:e[c2];return n==null?null:Kn.makeFromBucketSpec(n,r)}function k2(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:EE(o,r.app.options.projectId))}class M2{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=Hb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h2,this._maxUploadRetryTime=f2,this._requests=new Set,o!=null?this._bucket=Kn.makeFromBucketSpec(o,this._host):this._bucket=Y0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=Y0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ch(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new v2(Fb());{const f=N2(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const X0="@firebase/storage",W0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="storage";function V2(r=op(),e){r=Nt(r);const s=kh(r,Gb).getImmediate({identifier:e}),o=yE("storage");return o&&P2(s,...o),s}function P2(r,e,n,s={}){k2(r,e,n,s)}function L2(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new M2(n,s,o,e,ra)}function U2(){Zs(new ss(Gb,L2,"PUBLIC").setMultipleInstances(!0)),pi(X0,W0,""),pi(X0,W0,"esm2017")}U2();const j2={apiKey:"AIzaSyD85ccZj0GBgcq3hECN-d-9GWQWpmJNP-E",authDomain:"yss-eparcha.firebaseapp.com",projectId:"yss-eparcha",storageBucket:"yss-eparcha.firebasestorage.app",messagingSenderId:"694779508998",appId:"1:694779508998:web:503faffd788432ac8f8687",measurementId:"G-M4GR5T7YV0"},eg=wE(j2),vo=K1(eg),jt=HD(eg);V2(eg);const Kb="/ysseparcha/assets/ysslogo-BCzvGdrs.png",z2=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(null),f=ia(),m=async p=>{p.preventDefault(),u(null);try{const E=(await OI(vo,r,n)).user,R=Kt(jt,"users",r),S=await cr(R);if(S.exists())switch(S.data().role){case"admin":f("/admin-dashboard");break;case"doctor":f("/doctor-dashboard");break;case"chemist":f("/chemist-dashboard");break;case"usher":f("/usher-dashboard");break;default:f("/user-dashboard");break}else u("User role not found.")}catch{u("Invalid email or password.")}};return T.jsxs("form",{onSubmit:m,className:"flex flex-col space-y-4",children:[o&&T.jsx("p",{className:"text-red-500 text-sm",children:o}),T.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:p=>e(p.target.value),className:"p-3 border border-orange-600 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0}),T.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:p=>s(p.target.value),className:"p-3 border border-orange-600 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0}),T.jsx("button",{type:"submit",className:"bg-orange-600 text-white p-3 rounded-md hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-400",children:"Login"})]})},B2=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(""),[E,R]=j.useState([]),[S,N]=j.useState({}),[V,G]=j.useState({}),[B,$]=j.useState(null),[ne,J]=j.useState(null),[le,se]=j.useState(1),[ge,O]=j.useState(!1),[x,w]=j.useState(""),I=ia(),[k,U]=j.useState(""),[D,Ze]=j.useState(""),[nt,re]=j.useState(""),[_e,me]=j.useState(""),[He,M]=j.useState(""),[te,fe]=j.useState(""),ae=async()=>{try{const Ie=qD(jt,"patients"),be=n2(Ie),Ue=await o2(be);let Oe=0;return Ue.forEach(dt=>{const zt=dt.data();zt.couponNumber>Oe&&(Oe=zt.couponNumber)}),Oe+1}catch(Ie){console.error("Error fetching coupon number: ",Ie),$("Could not fetch coupon number.")}},oe=async Ie=>{Ie.preventDefault(),U(""),Ze(""),re(""),me(""),M(""),fe("");let be=!0;if(r||(U("Name is required."),be=!1),(!n||isNaN(n)||n<=0)&&(Ze("Age must be a positive number."),be=!1),o||(re("Address is required."),be=!1),(!f||f.length!==10||isNaN(f))&&(me("Mobile number must be 10 digits."),be=!1),p||(M("Gender is required."),be=!1),E.length===0&&(fe("Please select at least one treatment."),be=!1),!!be)try{const Ue=await ae();if(Ue){const Oe=Kt(jt,"patients",Ue.toString()),dt={name:r,age:n,address:o,mobile:f,gender:p,treatments:E,couponNumber:Ue,prescriptions:{},remarks:{},registrationTime:new Date().toISOString()};E.forEach(zt=>{dt.prescriptions[zt]=S[zt]||"NA",dt.remarks[zt]=V[zt]||"NA"}),await qb(Oe,dt),J(Ue),w(new Date().toLocaleString()),O(!0)}}catch{$("Registration failed. Try again.")}},xe=Ie=>{const be=Ie.target.value;R(Ue=>Ue.includes(be)?Ue.filter(Oe=>Oe!==be):[...Ue,be])},Re=()=>{O(!1),I("/dashboard")};return T.jsxs("div",{className:"bg-white flex justify-center items-start pt-2 px-2",children:[T.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg px-4 py-2",children:[B&&T.jsx("p",{className:"text-red-500 text-sm mb-1",children:B}),le===1&&T.jsxs(T.Fragment,{children:[T.jsx("h2",{className:"text-xl font-semibold text-center text-orange-600 mb-2",children:"Patient Registration"}),T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),T.jsx("input",{type:"text",placeholder:"Enter full name",value:r,onChange:Ie=>e(Ie.target.value),className:"w-full p-1 border border-orange-600 rounded-md mt-1 focus:outline-none focus:ring-1 focus:ring-orange-400",required:!0}),k&&T.jsx("p",{className:"text-red-500 text-xs",children:k})]}),T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),T.jsx("input",{type:"number",placeholder:"Enter age",value:n,onChange:Ie=>s(Ie.target.value),className:"w-full p-1 border border-orange-600 rounded-md mt-1 focus:outline-none focus:ring-1 focus:ring-orange-400",required:!0}),D&&T.jsx("p",{className:"text-red-500 text-xs",children:D})]}),T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),T.jsxs("select",{value:p,onChange:Ie=>g(Ie.target.value),className:"w-full p-1 border border-orange-600 rounded-md mt-1 focus:outline-none focus:ring-1 focus:ring-orange-400",required:!0,children:[T.jsx("option",{value:"",children:"Select Gender"}),T.jsx("option",{value:"Male",children:"Male"}),T.jsx("option",{value:"Female",children:"Female"}),T.jsx("option",{value:"Other",children:"Other"})]}),He&&T.jsx("p",{className:"text-red-500 text-xs",children:He})]}),T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),T.jsx("input",{type:"text",placeholder:"Enter address",value:o,onChange:Ie=>u(Ie.target.value),className:"w-full p-1 border border-orange-600 rounded-md mt-1 focus:outline-none focus:ring-1 focus:ring-orange-400",required:!0}),nt&&T.jsx("p",{className:"text-red-500 text-xs",children:nt})]}),T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile No."}),T.jsx("input",{type:"text",placeholder:"Enter mobile number",value:f,onChange:Ie=>m(Ie.target.value),className:"w-full p-1 border border-orange-600 rounded-md mt-1 focus:outline-none focus:ring-1 focus:ring-orange-400",required:!0}),_e&&T.jsx("p",{className:"text-red-500 text-xs",children:_e})]}),T.jsx("button",{type:"button",onClick:()=>se(2),disabled:!r||!n||!o||!f||!p,className:"w-full bg-orange-600 text-white p-1 rounded-md mt-1 hover:bg-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-400",children:"Next"})]}),le===2&&T.jsxs(T.Fragment,{children:[T.jsx("h3",{className:"text-lg font-semibold text-center text-orange-600 mb-2",children:"Select Treatments"}),T.jsx("div",{className:"space-y-2 mb-2",children:["Ortho","Cardio","OPD","Eye","Dental"].map(Ie=>T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:Ie}),T.jsx("input",{type:"checkbox",value:Ie,onChange:xe,className:"form-checkbox h-4 w-4 text-orange-600 focus:ring-1 focus:ring-orange-500"})]},Ie))}),te&&T.jsx("p",{className:"text-red-500 text-xs",children:te}),T.jsx("button",{type:"submit",onClick:oe,className:"w-full bg-orange-600 text-white p-1 rounded-md hover:bg-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-400",children:"Register"})]})]}),ge&&T.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-gray-500 bg-opacity-70 flex justify-center items-center z-50",children:T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl text-center max-w-md w-full",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2 text-orange-600",children:"Registration Successful!"}),T.jsx("p",{className:"text-base mb-2",children:"Your Coupon Number is:"}),T.jsx("p",{className:"text-2xl font-bold text-orange-600 mb-3",children:ne}),T.jsxs("p",{className:"text-base mb-2",children:["Registration Time: ",x]}),T.jsx("button",{onClick:Re,className:"bg-orange-600 text-white px-4 py-1 rounded-md hover:bg-orange-500 focus:outline-none focus:ring-1 focus:ring-orange-400",children:"Close"})]})})]})},q2="/ysseparcha/assets/bg_image-DANqsq2b.jpg",H2=()=>{const[r,e]=j.useState(!0);return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center overflow-hidden",style:{backgroundImage:`url(${q2})`},children:T.jsxs("div",{className:"bg-white bg-opacity-90 p-6 rounded-lg shadow-lg w-full max-w-md text-center",children:[T.jsx("div",{className:"mb-4",children:T.jsx("img",{src:Kb,alt:"Login/Register Toggle",className:"mx-auto w-24 h-24 object-cover rounded-full border-4 border-orange-600"})}),T.jsxs("div",{className:"flex justify-center mb-4 border-b-2 pb-4",children:[T.jsx("button",{onClick:()=>e(!0),className:`px-6 py-2 w-1/2 rounded-l-lg ${r?"bg-orange-600 text-white":"bg-gray-300 text-gray-700"}`,children:"Login"}),T.jsx("button",{onClick:()=>e(!1),className:`px-6 py-2 w-1/2 rounded-r-lg ${r?"bg-gray-300 text-gray-700":"bg-orange-600 text-white"}`,children:"Register"})]}),T.jsx("div",{className:"p-4",children:r?T.jsx(z2,{}):T.jsx(B2,{})})]})})};function F2(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}F2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var tg=r=>typeof r=="number"&&!isNaN(r),ru=r=>typeof r=="string",Qb=r=>typeof r=="function",G2=r=>ru(r)||tg(r),K2=r=>j.isValidElement(r)||ru(r)||Qb(r)||tg(r),Q2=1,$b=()=>`${Q2++}`,Ei=new Map,Xm=[],Z0=new Set,Yb=()=>Ei.size>0,$2=(r,{containerId:e})=>{var n;return(n=Ei.get(e||1))==null?void 0:n.toasts.get(r)};function Y2(r,e){var n;if(e)return!!((n=Ei.get(e))!=null&&n.isToastActive(r));let s=!1;return Ei.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function X2(r){if(!Yb()){Xm=Xm.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||G2(r))Ei.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Ei.get(r.containerId);e?e.removeToast(r.id):Ei.forEach(n=>{n.removeToast(r.id)})}}var W2=(r={})=>{Ei.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function Z2(r,e){K2(r)&&(Yb()||Xm.push({content:r,options:e}),Ei.forEach(n=>{n.buildToast(r,e)}))}function Xb(r,e){Ei.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(r,e==null?void 0:e.id)})}function J2(r){return Z0.add(r),()=>{Z0.delete(r)}}function eO(r){return r&&(ru(r.toastId)||tg(r.toastId))?r.toastId:$b()}function vu(r,e){return Z2(r,e),e.toastId}function Jh(r,e){return{...e,type:e&&e.type||r,toastId:eO(e)}}function ef(r){return(e,n)=>vu(e,Jh(r,n))}function Ye(r,e){return vu(r,Jh("default",e))}Ye.loading=(r,e)=>vu(r,Jh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function tO(r,{pending:e,error:n,success:s},o){let u;e&&(u=ru(e)?Ye.loading(e,o):Ye.loading(e.render,{...o,...e}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,R)=>{if(E==null){Ye.dismiss(u);return}let S={type:g,...f,...o,data:R},N=ru(E)?{render:E}:E;return u?Ye.update(u,{...S,...N}):Ye(N.render,{...S,...N}),R},p=Qb(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Ye.promise=tO;Ye.success=ef("success");Ye.info=ef("info");Ye.error=ef("error");Ye.warning=ef("warning");Ye.warn=Ye.warning;Ye.dark=(r,e)=>vu(r,Jh("default",{theme:"dark",...e}));function nO(r){X2(r)}Ye.dismiss=nO;Ye.clearWaitingQueue=W2;Ye.isActive=Y2;Ye.update=(r,e={})=>{let n=$2(r,e);if(n){let{props:s,content:o}=n,u={delay:100,...s,...e,toastId:e.toastId||r,updateId:$b()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,vu(f,u)}};Ye.done=r=>{Ye.update(r,{progress:1})};Ye.onChange=J2;Ye.play=r=>Xb(!0,r);Ye.pause=r=>Xb(!1,r);const iO=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(null),[o,u]=j.useState({name:"",age:"",address:"",dept:"",mobileNo:"",role:""}),[f,m]=j.useState(!1),p=async()=>{if(r){m(!0);try{const S=Kt(jt,"users",r),N=await cr(S);N.exists()?(s(N.data()),u({name:N.data().name,age:N.data().age,address:N.data().address,dept:N.data().dept,mobileNo:N.data().mobileNo,role:N.data().role})):(Ye.error("User not found!"),s(null))}catch(S){Ye.error("Error fetching user data: "+S.message)}m(!1)}},g=S=>{const{name:N,value:V}=S.target;u(G=>({...G,[N]:V}))},E=async()=>{if(r){m(!0);try{const S=Kt(jt,"users",N),{email:N,createdAt:V,...G}=o;await ro(S,G),Ye.success("User details updated successfully!")}catch(S){Ye.error("Error updating user data: "+S.message)}m(!1)}},R=async()=>{if(r){m(!0);try{const S=Kt(jt,"users",r);await l2(S),Ye.success("User deleted successfully!"),s(null),u({name:"",age:"",address:"",dept:"",mobileNo:"",role:""})}catch(S){Ye.error("Error deleting user: "+S.message)}m(!1)}};return T.jsxs("div",{className:"p-4",children:[T.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"User Management"}),T.jsxs("div",{className:"mb-4",children:[T.jsx("input",{type:"text",placeholder:"Enter user email",value:r,onChange:S=>e(S.target.value),className:"p-2 border border-gray-300 rounded"}),T.jsx("button",{onClick:p,className:"ml-2 p-2 bg-orange-400 hover:bg-orange-600 text-white rounded",children:"Search"})]}),n?T.jsxs("div",{children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-2",children:"Name:"}),T.jsx("input",{type:"text",name:"name",value:o.name,onChange:g,className:"p-2 border border-gray-300 rounded w-full"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-2",children:"Age:"}),T.jsx("input",{type:"text",name:"age",value:o.age,onChange:g,className:"p-2 border border-gray-300 rounded w-full"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-2",children:"Address:"}),T.jsx("textarea",{name:"address",value:o.address,onChange:g,className:"p-2 border border-gray-300 rounded w-full"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-2",children:"Department:"}),T.jsx("input",{type:"text",name:"dept",value:o.dept,onChange:g,className:"p-2 border border-gray-300 rounded w-full"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-2",children:"Mobile Number:"}),T.jsx("input",{type:"text",name:"mobileNo",value:o.mobileNo,onChange:g,className:"p-2 border border-gray-300 rounded w-full"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block mb-2",children:"Role:"}),T.jsxs("select",{name:"role",value:o.role,onChange:g,className:"p-2 border border-gray-300 rounded w-full",children:[T.jsx("option",{value:"admin",children:"Admin"}),T.jsx("option",{value:"usher",children:"Usher"}),T.jsx("option",{value:"chemist",children:"Chemist"}),T.jsx("option",{value:"doctor",children:"Doctor"})]})]}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("button",{onClick:E,className:"p-2 bg-green-500 text-white rounded",disabled:f,children:f?"Updating...":"Update User"}),T.jsx("button",{onClick:R,className:"p-2 bg-red-500 text-white rounded",disabled:f,children:f?"Deleting...":"Delete User"})]})]}):T.jsx("p",{className:"mt-4 text-gray-500",children:"No user data found. Please search by email."})]})},rO=()=>{const[r,e]=j.useState({name:"",email:"",role:"usher",dept:"",mobileNo:"",age:"",address:"",password:""}),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(!1),p=R=>{const{name:S,value:N}=R.target;e({...r,[S]:N})},g=async R=>{if(R.preventDefault(),s(""),u(""),!r.name||!r.email||!r.role||!r.mobileNo||!r.age||!r.address||!r.password){s("All fields are required.");return}const S=Kt(jt,"users",r.email);if((await cr(S)).exists()){s("User with this email already exists.");return}m(!0);try{const G=(await DI(vo,r.email,r.password)).user,B={name:r.name,email:r.email,role:r.role,mobileNo:r.mobileNo,age:r.age,address:r.address,dept:r.role==="doctor"||r.role==="usher"?r.dept:"",createdAt:new Date};await qb(S,B),u("User created successfully!"),setTimeout(()=>{e({name:"",email:"",role:"usher",dept:"",mobileNo:"",age:"",address:"",password:""}),u("")},2e3)}catch(V){s("Error creating user: "+V.message)}finally{m(!1)}},E=R=>{R.key==="Enter"&&R.target.type!=="submit"&&R.preventDefault()};return T.jsxs("div",{className:"p-8 bg-white shadow-lg rounded-lg max-w-4xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Add New User"}),o&&T.jsx("div",{className:"bg-green-500 text-white text-center p-4 rounded mb-4",children:o}),n&&T.jsx("div",{className:"bg-red-500 text-white text-center p-4 rounded mb-4",children:n}),T.jsxs("form",{onSubmit:g,children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Full Name"}),T.jsx("input",{type:"text",name:"name",value:r.name,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Enter full name"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Email"}),T.jsx("input",{type:"email",name:"email",value:r.email,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Enter email"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Role"}),T.jsxs("select",{name:"role",value:r.role,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",children:[T.jsx("option",{value:"usher",children:"Usher"}),T.jsx("option",{value:"admin",children:"Admin"}),T.jsx("option",{value:"chemist",children:"Chemist"}),T.jsx("option",{value:"doctor",children:"Doctor"})]})]}),(r.role==="doctor"||r.role==="usher")&&T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Department"}),T.jsx("input",{type:"text",name:"dept",value:r.dept,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Enter department"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Mobile Number"}),T.jsx("input",{type:"text",name:"mobileNo",value:r.mobileNo,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Enter mobile number"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Age"}),T.jsx("input",{type:"number",name:"age",value:r.age,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Enter age"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Address"}),T.jsx("input",{type:"text",name:"address",value:r.address,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Enter address"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700",children:"Password"}),T.jsx("input",{type:"password",name:"password",value:r.password,onChange:p,onKeyDown:E,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Enter password"})]}),T.jsx("button",{type:"submit",className:`w-full p-2 bg-blue-500 text-white rounded ${f?"opacity-50 cursor-not-allowed":""}`,disabled:f,children:f?"Creating User...":"Create User"})]})]})},sO=()=>{var E,R;const[r,e]=j.useState(""),[n,s]=j.useState(null),[o,u]=j.useState(!1),[f,m]=j.useState(null),p=async S=>{u(!0),m(null);try{const N=String(S),V=Kt(jt,"patients",N),G=await cr(V);G.exists()?s(G.data()):(s(null),m("User not found."))}catch{m("Failed to fetch patient details.")}finally{u(!1)}},g=()=>{r?p(r):m("Please enter a coupon number.")};return T.jsxs("div",{className:"container mx-auto p-4",children:[T.jsx("h1",{className:"text-4xl font-semibold text-center mb-8 text-gray-800",children:"Patients Overview"}),T.jsxs("div",{className:"flex justify-center items-center mb-6 space-x-4",children:[T.jsx("input",{type:"text",value:r,onChange:S=>e(S.target.value),className:"border px-4 py-3 rounded-lg shadow-md w-64 focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:"Enter Coupon Number"}),T.jsx("button",{onClick:g,className:"bg-orange-400 text-white px-6 py-3 rounded-lg shadow-md hover:bg-orange-500 transition duration-200",children:"Search Patient"})]}),o&&T.jsx("p",{className:"text-center text-orange-400",children:"Loading..."}),f&&T.jsx("p",{className:"text-center text-red-500",children:f}),n&&!o&&!f&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[T.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Patient Information"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Patient Name:"}),T.jsx("span",{className:"text-gray-600",children:n.name||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Age:"}),T.jsx("span",{className:"text-gray-600",children:n.age||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Phone Number:"}),T.jsx("span",{className:"text-gray-600",children:n.mobile||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Address:"}),T.jsx("span",{className:"text-gray-600",children:n.address||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Treatments:"}),T.jsx("span",{className:"text-gray-600",children:((E=n.treatments)==null?void 0:E.join(", "))||"Not Available"})]})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[T.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Prescriptions"}),T.jsx("div",{className:"space-y-4",children:(R=n.treatments)==null?void 0:R.map(S=>{var N,V;return T.jsxs("div",{className:"border-b pb-4",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h3",{className:"font-semibold text-lg text-gray-700",children:S}),T.jsx("span",{className:"text-sm text-gray-500",children:((N=n.prescriptions)==null?void 0:N[S])||"No Prescription"})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h3",{className:"font-semibold text-lg text-gray-700",children:"Remarks"}),T.jsx("span",{className:"text-sm text-gray-500",children:((V=n.remarks)==null?void 0:V[S])||"No Remarks"})]})]},S)})})]})]})]})},aO=()=>{const[r,e]=j.useState("users"),[n,s]=j.useState(!1),o=ia(),[u,f]=j.useState(!1);j.useEffect(()=>{const g=VI(vo,E=>{E?s(!0):o("/login")});return()=>g()},[o]);const m=()=>{f(!u)},p=()=>{WE(vo).then(()=>{o("/login")}).catch(g=>{console.error("Error during sign out:",g)})};return n?T.jsxs("div",{className:"flex h-screen bg-gray-50",children:[T.jsxs("div",{className:`${u?"w-64":"w-20"} bg-orange-400 text-white p-4 transition-all duration-300 ease-in-out sm:w-64 md:w-1/5 h-full flex flex-col justify-between absolute sm:relative z-30 ${u?"left-0":"-left-64"} sm:left-0`,children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Dashboard"}),T.jsxs("ul",{children:[T.jsx("li",{onClick:()=>e("users"),className:"cursor-pointer py-2 px-4 hover:bg-orange-400 rounded mb-2",children:"Users"}),T.jsx("li",{onClick:()=>e("add-user"),className:"cursor-pointer py-2 px-4 hover:bg-orange-400 rounded mb-2",children:"Add User"}),T.jsx("li",{onClick:()=>e("patients"),className:"cursor-pointer py-2 px-4 hover:bg-orange-400 rounded mb-2",children:"Patients"})]})]}),T.jsx("div",{className:"mt-6",children:T.jsx("button",{onClick:p,className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",children:"Logout"})})]}),T.jsxs("div",{className:"flex-1 flex flex-col",children:[T.jsxs("div",{className:"bg-orange-400 text-white p-4 flex items-center justify-between fixed top-0 left-0 w-full z-20 shadow-md",children:[T.jsx("h1",{className:"text-2xl",children:"Admin Dashboard"}),T.jsxs("button",{onClick:m,className:"sm:hidden text-white bg-orange-400 p-2 rounded-md",children:[T.jsx("i",{className:"fa fa-bars"})," "]})]}),T.jsx("div",{className:"flex-1 p-6 mt-16 overflow-auto",children:T.jsxs("div",{className:"p-4 bg-white shadow-lg rounded-lg",children:[r==="users"&&T.jsx(iO,{}),r==="add-user"&&T.jsx(rO,{}),r==="patients"&&T.jsx(sO,{})]})})]})]}):null},oO=()=>{var ge;const[r,e]=j.useState(""),[n,s]=j.useState(null),[o,u]=j.useState(!1),[f,m]=j.useState(null),[p,g]=j.useState({}),[E,R]=j.useState({}),[S,N]=j.useState(""),[V,G]=j.useState([]),B=ia(),$=async O=>{u(!0),m(null);try{const x=Kt(jt,"patients",O),w=await cr(x);if(w.exists()){const I=w.data();s(I);const k=I.treatments||[],U=[...new Set(k)];G(U),g(I.remarks||{}),R(I.prescriptions||{})}else s(null),m("Patient not found.")}catch{m("Failed to fetch patient details.")}finally{u(!1)}},ne=async()=>{if(!n){m("No patient data found.");return}try{const O=Kt(jt,"patients",r);await ro(O,{prescriptions:E,remarks:p}),m("Data saved successfully!")}catch{m("Failed to save data.")}},J=(O,x,w)=>{x==="remark"?g({...p,[O]:w}):x==="prescription"&&R({...E,[O]:w})},le=()=>{r?$(r):m("Please enter a coupon number.")},se=()=>{B("/login")};return T.jsxs("div",{className:"min-h-screen bg-gray-100",children:[T.jsxs("div",{className:"bg-orange-400 text-white shadow-md flex items-center justify-between px-8 py-4",children:[T.jsx("h1",{className:"text-3xl font-semibold tracking-wider",children:"Doctor Dashboard"}),T.jsx("button",{onClick:se,className:"bg-red-600 hover:bg-red-700 px-6 py-2 rounded-lg font-semibold text-sm transition duration-200 shadow-md",children:"Logout"})]}),T.jsxs("div",{className:"container mx-auto px-6 py-8",children:[T.jsxs("div",{className:"flex justify-center items-center mb-6 space-x-4",children:[T.jsx("input",{type:"text",value:r,onChange:O=>e(O.target.value),className:"border border-gray-300 rounded-lg py-3 px-4 w-full sm:w-72 shadow-md focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:"Enter Coupon Number"}),T.jsx("button",{onClick:le,className:"bg-orange-400 text-white px-6 py-3 rounded-lg shadow-md hover:bg-orange-400 transition duration-200 w-full sm:w-auto",children:"Search Patient"})]}),o&&T.jsx("p",{className:"text-center text-orange-400",children:"Loading..."}),f&&T.jsx("p",{className:"text-center text-red-600",children:f}),n&&!o&&!f&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Patient Information"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Patient Name:"}),T.jsx("span",{className:"text-gray-600",children:n.name||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Age:"}),T.jsx("span",{className:"text-gray-600",children:n.age||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Phone Number:"}),T.jsx("span",{className:"text-gray-600",children:n.mobile||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Address:"}),T.jsx("span",{className:"text-gray-600",children:n.address||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Treatments:"}),T.jsx("span",{className:"text-gray-600",children:((ge=n.treatments)==null?void 0:ge.join(", "))||"Not Available"})]})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[T.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Prescriptions and Remarks"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("label",{className:"font-semibold text-gray-700",children:"Select Department:"}),T.jsxs("select",{value:S,onChange:O=>N(O.target.value),className:"w-full sm:w-64 p-3 border rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-orange-400",children:[T.jsx("option",{value:"",children:"-- Select Department --"}),V.map((O,x)=>T.jsx("option",{value:O,children:O},x))]})]}),S&&T.jsx("div",{className:"space-y-6",children:T.jsxs("div",{className:"flex flex-col space-y-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"font-semibold text-gray-700",children:"Prescription:"}),T.jsx("textarea",{value:E[S]||"",onChange:O=>J(S,"prescription",O.target.value),className:"w-full p-4 border rounded-lg resize-none shadow-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:"5",placeholder:"Enter Prescription"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"font-semibold text-gray-700",children:"Remarks:"}),T.jsx("textarea",{value:p[S]||"",onChange:O=>J(S,"remark",O.target.value),className:"w-full p-4 border rounded-lg resize-none shadow-md focus:outline-none focus:ring-2 focus:ring-orange-400",rows:"5",placeholder:"Enter Remarks"})]})]})})]})]}),T.jsx("div",{className:"flex justify-center mt-6",children:T.jsx("button",{onClick:ne,className:"bg-green-600 text-white px-6 py-3 rounded-lg shadow-md hover:bg-green-700 transition duration-200 w-full sm:w-auto",children:"Save Data"})})]})]})]})},lO=()=>{var E,R;const[r,e]=j.useState(""),[n,s]=j.useState(null),[o,u]=j.useState(!1),[f,m]=j.useState(null),p=async S=>{u(!0),m(null);try{const N=String(S),V=Kt(jt,"patients",N),G=await cr(V);G.exists()?s(G.data()):(s(null),m("User not found."))}catch{m("Failed to fetch patient details.")}finally{u(!1)}},g=()=>{r?p(r):m("Please enter a coupon number.")};return T.jsxs("div",{className:"container mx-auto p-4",children:[T.jsx("h1",{className:"text-4xl font-semibold text-center mb-8 text-gray-800",children:"Chemist Dashboard"}),T.jsxs("div",{className:"flex justify-center items-center mb-6 space-x-4",children:[T.jsx("input",{type:"text",value:r,onChange:S=>e(S.target.value),className:"border px-4 py-3 rounded-lg shadow-md w-64 focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:"Enter Coupon Number"}),T.jsx("button",{onClick:g,className:"bg-orange-400 text-white px-6 py-3 rounded-lg shadow-md hover:bg-orange-500 transition duration-200",children:"Search Patient"})]}),o&&T.jsx("p",{className:"text-center text-orange-400",children:"Loading..."}),f&&T.jsx("p",{className:"text-center text-red-500",children:f}),n&&!o&&!f&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[T.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Patient Information"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Patient Name:"}),T.jsx("span",{className:"text-gray-600",children:n.name||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Age:"}),T.jsx("span",{className:"text-gray-600",children:n.age||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Phone Number:"}),T.jsx("span",{className:"text-gray-600",children:n.mobile||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Address:"}),T.jsx("span",{className:"text-gray-600",children:n.address||"Not Available"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-semibold text-gray-700",children:"Treatments:"}),T.jsx("span",{className:"text-gray-600",children:((E=n.treatments)==null?void 0:E.join(", "))||"Not Available"})]})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[T.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Prescriptions"}),T.jsx("div",{className:"space-y-4",children:(R=n.treatments)==null?void 0:R.map(S=>{var N,V;return T.jsxs("div",{className:"border-b pb-4",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h3",{className:"font-semibold text-lg text-gray-700",children:S}),T.jsx("span",{className:"text-sm text-gray-500",children:((N=n.prescriptions)==null?void 0:N[S])||"No Prescription"})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h3",{className:"font-semibold text-lg text-gray-700",children:"Remarks"}),T.jsx("span",{className:"text-sm text-gray-500",children:((V=n.remarks)==null?void 0:V[S])||"No Remarks"})]})]},S)})})]})]})]})},uO=()=>{const[r]=j.useState(["cardio","dental","ent","eye","opd","ortho"]),[e,n]=j.useState(null),[s,o]=j.useState([]),[u,f]=j.useState([]),[m,p]=j.useState(0),[g,E]=j.useState(""),[R,S]=j.useState(null),[N,V]=j.useState(!1),[G,B]=j.useState(""),$=ia(),ne=async(w,I=!1)=>{V(!0);try{const k=await cr(Kt(jt,"waiting",w));if(k.exists()){const U=k.data().list||[],D=k.data().missing||[],Ze=await J(U),nt=await J(D);o(Ze),f(nt),I&&Ze.length>0&&S(Ze[Ze.length-1])}}catch(k){console.error("Error fetching patients:",k)}finally{V(!1)}},J=async w=>{const I=[];for(let k of w){const U=await cr(Kt(jt,"patients",k.toString()));if(U.exists()){const D=U.data();I.push({couponNumber:k,name:D.name,address:D.address,age:D.age,gender:D.gender})}}return I},le=async()=>{if(g.trim()){V(!0);try{await ro(Kt(jt,"waiting",e),{list:K0(g)}),E(""),B(`Coupon ${g} added successfully to the queue!`),setTimeout(()=>{B("")},5e3),ne(e)}catch(w){console.error("Error adding patient to queue:",w)}finally{V(!1)}}},se=async()=>{try{await WE(vo),$("/login")}catch(w){console.error("Error during logout:",w)}},ge=async w=>{const I=s[w].couponNumber;try{await ro(Kt(jt,"waiting",e),{list:vm(I)}),o(s.filter((k,U)=>U!==w))}catch(k){console.error("Error removing patient from queue:",k)}},O=async w=>{const I=s[w].couponNumber;try{await ro(Kt(jt,"waiting",e),{missing:K0(I),list:vm(I)}),f([...u,s[w]]),o(s.filter((k,U)=>U!==w))}catch(k){console.error("Error sending to missing list:",k)}},x=async w=>{const I=u[w].couponNumber;try{await ro(Kt(jt,"waiting",e),{missing:vm(I)}),f(u.filter((k,U)=>U!==w))}catch(k){console.error("Error removing from missing list:",k)}};return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx("header",{className:"bg-orange-600 text-white p-4 shadow-md fixed top-0 left-0 w-full z-10",children:T.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto",children:[T.jsx("h1",{className:"text-2xl font-semibold",children:"Usher Dashboard"}),T.jsx("button",{onClick:se,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-800 transition duration-300",children:"Logout"})]})}),T.jsxs("div",{className:"pt-24 p-6 max-w-7xl mx-auto",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[T.jsx("div",{className:"mb-6",children:T.jsxs("select",{onChange:w=>{n(w.target.value),ne(w.target.value)},value:e||"",className:"p-3 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500",children:[T.jsx("option",{value:"",children:"Select Department"}),r.map(w=>T.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))]})}),T.jsxs("div",{className:"mb-6 flex",children:[T.jsx("button",{onClick:()=>p(0),className:`flex-1 text-center py-2 rounded-md ${m===0?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"} hover:bg-blue-500 transition duration-300 mr-2`,children:"Queue"}),T.jsx("button",{onClick:()=>p(1),className:`flex-1 text-center py-2 rounded-md ${m===1?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700"} hover:bg-yellow-500 transition duration-300`,children:"Missing"})]}),T.jsxs("div",{className:"mb-6 flex space-x-4 items-center",children:[T.jsx("input",{type:"number",value:g,onChange:w=>E(w.target.value),placeholder:"Enter Coupon Number",className:"p-3 border border-gray-300 rounded-md w-2/3 focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"999999"}),T.jsx("button",{onClick:le,className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition duration-300",children:"Add Patient to Queue"})]}),G&&T.jsx("div",{className:"bg-green-500 text-white p-3 rounded-md mb-4",children:G})]}),N&&T.jsxs("div",{className:"flex justify-center items-center space-x-2 py-6",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-t-4 border-blue-500 rounded-full animate-spin"}),T.jsx("p",{className:"text-center text-sm text-gray-500",children:"Loading..."})]}),T.jsx("div",{children:m===0?T.jsx("div",{children:s.length===0?T.jsx("p",{children:"No patients in the queue"}):T.jsx("ul",{children:s.map((w,I)=>T.jsxs("li",{className:"flex justify-between items-center mb-4 p-4 border-b border-gray-200 rounded-md",children:[T.jsxs("div",{children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Name:"})," ",w.name]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Coupon Number:"})," ",w.couponNumber]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Age:"})," ",w.age]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Gender:"})," ",w.gender]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Address:"})," ",w.address]})]}),T.jsxs("div",{children:[T.jsx("button",{onClick:()=>ge(I),className:"bg-red-500 text-white px-4 py-1 rounded-md hover:bg-red-700 mr-2",children:"Remove"}),T.jsx("button",{onClick:()=>O(I),className:"bg-yellow-500 text-white px-4 py-1 rounded-md hover:bg-yellow-700",children:"Send to Missing"})]})]},I))})}):T.jsx("div",{children:u.length===0?T.jsx("p",{children:"No missing patients"}):T.jsx("ul",{children:u.map((w,I)=>T.jsxs("li",{className:"flex justify-between items-center mb-4 p-4 border-b border-gray-200 rounded-md",children:[T.jsxs("div",{children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Name:"})," ",w.name]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Coupon Number:"})," ",w.couponNumber]})]}),T.jsx("button",{onClick:()=>x(I),className:"bg-red-500 text-white px-4 py-1 rounded-md hover:bg-red-700",children:"Remove"})]},I))})})})]})]})},Yc=({userRole:r,requiredRole:e,children:n})=>r?r!==e?T.jsx(bm,{to:"/",replace:!0}):n:T.jsx(bm,{to:"/",replace:!0}),cO=()=>{const[r,e]=j.useState(null),[n,s]=j.useState(!0);return j.useEffect(()=>{const o=setTimeout(()=>{s(!1)},1500);return vo.onAuthStateChanged(async u=>{if(u){const f=Kt(jt,"users",u.email),m=await cr(f);m.exists()&&e(m.data().role)}s(!1)}),()=>clearTimeout(o)},[]),n?T.jsxs("div",{className:"flex items-center justify-center h-screen flex-col ",children:[T.jsx("img",{src:Kb,alt:"Loading...",className:"w-32 h-32 mb-4"}),T.jsx("div",{className:"w-16 h-16 border-8 border-white border-t-orange-500 border-solid rounded-full animate-spin"})]}):T.jsx(FS,{children:T.jsxs(ES,{children:[T.jsx(Ys,{path:"/",element:T.jsx(H2,{})}),T.jsx(Ys,{path:"/admin-dashboard",element:T.jsx(Yc,{userRole:r,requiredRole:"admin",children:T.jsx(aO,{})})}),T.jsx(Ys,{path:"/doctor-dashboard",element:T.jsx(Yc,{userRole:r,requiredRole:"doctor",children:T.jsx(oO,{})})}),T.jsx(Ys,{path:"/chemist-dashboard",element:T.jsx(Yc,{userRole:r,requiredRole:"chemist",children:T.jsx(lO,{})})}),T.jsx(Ys,{path:"/usher-dashboard",element:T.jsx(Yc,{userRole:r,requiredRole:"usher",children:T.jsx(uO,{})})}),T.jsx(Ys,{path:"*",element:T.jsx(bm,{to:"/"})})]})})};NA.createRoot(document.getElementById("root")).render(T.jsx(j.StrictMode,{children:T.jsx(cO,{})}));
